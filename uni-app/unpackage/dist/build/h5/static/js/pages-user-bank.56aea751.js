(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-bank"],{"19f9":function(e,a,t){"use strict";t.r(a);var n=t("eda1"),i=t.n(n);for(var s in n)"default"!==s&&function(e){t.d(a,e,function(){return n[e]})}(s);a["default"]=i.a},"4a7d":function(e,a,t){a=e.exports=t("2350")(!1),a.push([e.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-64a1b282]{background:#f8f8f8;padding-top:%?16?%}.row[data-v-64a1b282]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative;padding:0 %?30?%;height:%?110?%;background:#fff}.row .tit[data-v-64a1b282]{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:%?120?%;font-size:%?30?%;color:#303133}.row .input[data-v-64a1b282]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;font-size:%?30?%;color:#303133}.row .icon-shouhuodizhi[data-v-64a1b282]{font-size:%?36?%;color:#909399}.default-row[data-v-64a1b282]{margin-top:%?16?%}.default-row .tit[data-v-64a1b282]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.default-row uni-switch[data-v-64a1b282]{-webkit-transform:translateX(%?16?%) scale(.9);-ms-transform:translateX(%?16?%) scale(.9);transform:translateX(%?16?%) scale(.9)}.add-btn[data-v-64a1b282]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:%?690?%;height:%?80?%;margin:%?60?% auto;font-size:%?32?%;color:#fff;background-color:#fa436a;border-radius:%?10?%;-webkit-box-shadow:1px 2px 5px rgba(219,63,96,.4);box-shadow:1px 2px 5px rgba(219,63,96,.4)}body.?%PAGE?%[data-v-64a1b282]{background:#f8f8f8}',""])},"4dc2":function(e,a,t){a=e.exports=t("2350")(!1),a.push([e.i,".cu-form-group .title[data-v-64a1b282]{min-width:calc(4em + 15px)}",""])},"4e5a":function(e,a,t){var n=t("4dc2");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=t("4f06").default;i("2559cc2a",n,!0,{sourceMap:!1,shadowMode:!1})},"6ab2":function(e,a,t){"use strict";var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-uni-view",{staticClass:"content"},[t("v-uni-view",{staticClass:"cu-form-group margin-top"},[t("v-uni-view",{staticClass:"title"},[e._v("姓名")]),t("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"姓名","placeholder-class":"placeholder"},model:{value:e.user.user_name,callback:function(a){e.$set(e.user,"user_name",a)},expression:"user.user_name"}})],1),t("v-uni-view",{staticClass:"cu-form-group margin-top"},[t("v-uni-view",{staticClass:"title"},[e._v("选择银行")]),t("v-uni-picker",{attrs:{value:e.index,range:e.picker},on:{change:function(a){a=e.$handleEvent(a),e.PickerChange(a)}}},[t("v-uni-view",{staticClass:"picker"},[e._v(e._s(e.user.bank_name))])],1)],1),t("v-uni-view",{staticClass:"cu-form-group margin-top"},[t("v-uni-view",{staticClass:"title"},[e._v("银行卡号")]),t("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"银行卡号","placeholder-class":"placeholder"},model:{value:e.user.bank_card,callback:function(a){e.$set(e.user,"bank_card",a)},expression:"user.bank_card"}})],1),t("v-uni-view",{staticClass:"cu-form-group margin-top"},[t("v-uni-view",{staticClass:"title"},[e._v("支行名称")]),t("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"支行名称","placeholder-class":"placeholder"},model:{value:e.user.bank_address,callback:function(a){e.$set(e.user,"bank_address",a)},expression:"user.bank_address"}})],1),t("v-uni-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"input",attrs:{type:"text"},model:{value:e.user.id,callback:function(a){e.$set(e.user,"id",a)},expression:"user.id"}}),t("v-uni-button",{staticClass:"add-btn",on:{click:function(a){a=e.$handleEvent(a),e.confirm(a)}}},[e._v("提交")]),t("mpvue-city-picker",{ref:"mpvueCityPicker",attrs:{themeColor:e.themeColor,pickerValueDefault:e.cityPickerValue},on:{onCancel:function(a){a=e.$handleEvent(a),e.onCancel(a)},onConfirm:function(a){a=e.$handleEvent(a),e.onConfirm(a)}}})],1)},i=[];t.d(a,"a",function(){return n}),t.d(a,"b",function(){return i})},"8afb":function(e,a,t){"use strict";var n=t("4e5a"),i=t.n(n);i.a},"8cc3":function(e,a,t){"use strict";var n=t("be55"),i=t.n(n);i.a},"99b6":function(e,a,t){"use strict";t.r(a);var n=t("6ab2"),i=t("19f9");for(var s in i)"default"!==s&&function(e){t.d(a,e,function(){return i[e]})}(s);t("8cc3"),t("8afb");var r=t("2877"),o=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"64a1b282",null);a["default"]=o.exports},be55:function(e,a,t){var n=t("4a7d");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=t("4f06").default;i("44551736",n,!0,{sourceMap:!1,shadowMode:!1})},eda1:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=r(t("ff50")),i=r(t("6511")),s=t("2f62");function r(e){return e&&e.__esModule?e:{default:e}}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(a){u(e,a,t[a])})}return e}function u(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var c={components:{mpvueCityPicker:n.default},data:function(){return{user:{bank_name:"",bank_card:"",user_name:"",bank_address:""},index:-1,picker:["喵喵喵","汪汪汪","哼唧哼唧"],region:""}},onLoad:function(e){var a=this;uni.request({url:i.default.userInfoUrl,data:{is_mobile:1,user_id:a.userInfo.id},method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){console.log(e.data.data.bank_address),1==e.data.status&&(a.user.bank_address=e.data.data.bank_address,a.user.bank_name=e.data.data.bank_name,a.user.bank_card=e.data.data.bank_card,a.user.user_name=e.data.data.user_name,a.picker=e.data.data.user_bank)}})},computed:o({},(0,s.mapState)(["hasLogin","userInfo","bi"])),methods:{PickerChange:function(e){this.index=e.detail.value,console.log(this.index);var a=this;a.user.bank_name=a.userInfo.user_bank[this.index]},chooseCity:function(){this.$refs.mpvueCityPicker.show()},confirm:function(){var e=this.user,a=this;e.user_name?e.bank_address?e.bank_card?(console.log(a.userInfo.user_bank[a.index]),a.index?uni.request({url:i.default.set_bank,data:{is_mobile:1,user_id:a.userInfo.id,bank_name:a.userInfo.user_bank[a.index],bank_card:e.bank_card,bank_address:e.bank_address,bank_username:e.user_name},method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){1==e.data.status?(a.$api.msg(e.data.info),setTimeout(function(){uni.navigateBack()},800)):a.$api.msg(e.data.info)}}):this.$api.msg("请选择银行")):this.$api.msg("请填写银行卡号"):this.$api.msg("请填写支行名称"):this.$api.msg("请填写姓名")}}};a.default=c}}]);