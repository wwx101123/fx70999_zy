(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-shop-edit"],{"30c3":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"row b-b",staticStyle:{height:"100px"}},[a("v-uni-text",{staticClass:"tit"},[t._v("LOGO")]),a("v-uni-view",[a("sunui-upbasic",{ref:"uImage",attrs:{upImgConfig:t.upImgBasic},on:{onUpImg:function(e){e=t.$handleEvent(e),t.upBasicData(e)},onImgDel:function(e){e=t.$handleEvent(e),t.delImgInfo(e)}}})],1)],1),a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[t._v("店铺名称")]),a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"店铺名称","placeholder-class":"placeholder"},model:{value:t.shopData.title,callback:function(e){t.$set(t.shopData,"title",e)},expression:"shopData.title"}})],1),a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[t._v("所属地区")]),a("v-uni-view",{staticClass:"input",on:{click:function(e){e=t.$handleEvent(e),t.chooseCity(e)}}},[t._v(t._s(t.shopData.province)+t._s(t.shopData.city)+t._s(t.shopData.area))])],1),a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[t._v("详细地址")]),a("v-uni-text",{staticClass:"input",attrs:{width:"100%"},on:{click:function(e){e=t.$handleEvent(e),t.chooseLocation(e)}}},[t._v(t._s(t.shopData.address))]),a("v-uni-text",{staticClass:"yticon icon-shouhuodizhi"})],1),a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[t._v("联系电话")]),a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"联系电话","placeholder-class":"placeholder"},model:{value:t.shopData.mobile,callback:function(e){t.$set(t.shopData,"mobile",e)},expression:"shopData.mobile"}})],1),a("v-uni-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"input",attrs:{type:"text"},model:{value:t.shopData.id,callback:function(e){t.$set(t.shopData,"id",e)},expression:"shopData.id"}}),a("v-uni-button",{staticClass:"add-btn",on:{click:function(e){e=t.$handleEvent(e),t.confirm(e)}}},[t._v("提交")]),a("mpvue-city-picker",{ref:"mpvueCityPicker",attrs:{themeColor:t.themeColor,pickerValueDefault:t.cityPickerValue},on:{onCancel:function(e){e=t.$handleEvent(e),t.onCancel(e)},onConfirm:function(e){e=t.$handleEvent(e),t.onConfirm(e)}}})],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},"4bb9":function(t,e,a){var i=a("ccae");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("76af6443",i,!0,{sourceMap:!1,shadowMode:!1})},"654c":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=c(a("a34a")),n=c(a("ff50")),o=c(a("6511")),s=a("2f62");function c(t){return t&&t.__esModule?t:{default:t}}function r(t,e,a,i,n,o,s){try{var c=t[o](s),r=c.value}catch(l){return void a(l)}c.done?e(r):Promise.resolve(r).then(i,n)}function l(t){return function(){var e=this,a=arguments;return new Promise(function(i,n){var o=t.apply(e,a);function s(t){r(o,i,n,s,c,"next",t)}function c(t){r(o,i,n,s,c,"throw",t)}s(void 0)})}}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},i=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),i.forEach(function(e){f(t,e,a[e])})}return t}function f(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var d={components:{mpvueCityPicker:n.default},computed:u({},(0,s.mapState)(["hasLogin","userInfo","bi"])),data:function(){return{shopData:{name:"",mobile:"",address:"在地图选择",area:"请选择省市区",seller_id:0},lotusAddressData:{visible:!1,provinceName:"广东省",cityName:"广州市",townName:"天河区"},region:"",basicArr:[],upImgBasic:{basicConfig:{url:o.default.Upload},notli:!0,count:1,sourceType:"camera",sizeType:!0,upBgColor:"#E8A400",upIconColor:"#fff",delBtnLocation:"",iconReplace:""}}},successCallback:function(t){console.log(2222)},onLoad:function(){var t=this;console.log(t.userInfo.id),uni.request({url:o.default.seller_edit,data:{is_mobile:1,id:t.userInfo.id},method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){console.log(e.data.data.id),1==e.data.status&&(t.shopData.title=e.data.data.title,t.shopData.province=e.data.data.province,t.shopData.city=e.data.data.city,t.shopData.area=e.data.data.area,t.shopData.address=e.data.data.address,t.shopData.mobile=e.data.data.phone,t.shopData.seller_id=e.data.data.id)}})},methods:{uImageTap:function(){this.$refs.uImage.uploadimage(this.upImgBasic)},delImgInfo:function(){var t=l(i.default.mark(function t(e){return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:console.log("你删除的图片地址为:",e,this.basicArr.splice(e.index,1));case 1:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),upBasicData:function(){var t=l(i.default.mark(function t(e){var a,n,o;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:console.log("===>",e),a=[],n=0,o=e.length;case 3:if(!(n<o)){t.next=16;break}if(t.prev=4,""==e[n].path){t.next=8;break}return t.next=8,a.push(e[n].path.split(","));case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](4),console.log("上传失败...");case 13:n++,t.next=3;break;case 16:this.basicArr=a,a.length==this.upImgBasic.count&&uni.showToast({title:"上传成功",icon:"none"});case 18:case"end":return t.stop()}},t,this,[[4,10]])}));function e(e){return t.apply(this,arguments)}return e}(),getUpImgInfoBasic:function(){console.log("后端转成一维数组:",this.basicArr.join().split(","))},chooseCity:function(){this.$refs.mpvueCityPicker.show()},onConfirm:function(t){var e=t.label.split("-");this.shopData.province=e[0],this.shopData.city=e[1],this.shopData.area=e[2],this.cityPickerValue=t.value},chooseLocation:function(){var t=this;uni.chooseLocation({success:function(e){t.shopData.address=e.name}})},confirm:function(){var t=this.shopData;if(t.title)if(t.address)if(t.province){var e=this;uni.request({url:o.default.open_seller_step4,data:{is_mobile:1,txtProvince:t.province,txtCity:t.city,txtArea:t.area,title:t.title,txtAddress:t.address,txtMobile:t.mobile,user_id:e.userInfo.id,seller_id:t.seller_id,img_url:e.basicArr[0]},method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){1==t.data.status?(e.$api.msg(t.data.info),setTimeout(function(){uni.navigateBack()},800)):e.$api.msg(t.data.info)}})}else this.$api.msg("请选择地区");else this.$api.msg("请在地图选择所在位置");else this.$api.msg("请填写店铺名称")}}};e.default=d},"74a0":function(t,e,a){"use strict";var i=a("4bb9"),n=a.n(i);n.a},ccae:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-55cbbff3]{background:#f8f8f8;padding-top:%?16?%}.row[data-v-55cbbff3]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative;padding:0 %?30?%;height:%?110?%;background:#fff}.row .tit[data-v-55cbbff3]{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:%?120?%;font-size:%?30?%;color:#303133}.row .input[data-v-55cbbff3]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;font-size:%?30?%;color:#303133}.row .icon-shouhuodizhi[data-v-55cbbff3]{font-size:%?36?%;color:#909399}.default-row[data-v-55cbbff3]{margin-top:%?16?%}.default-row .tit[data-v-55cbbff3]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.default-row uni-switch[data-v-55cbbff3]{-webkit-transform:translateX(%?16?%) scale(.9);-ms-transform:translateX(%?16?%) scale(.9);transform:translateX(%?16?%) scale(.9)}.add-btn[data-v-55cbbff3]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:%?690?%;height:%?80?%;margin:%?60?% auto;font-size:%?32?%;color:#fff;background-color:#fa436a;border-radius:%?10?%;-webkit-box-shadow:1px 2px 5px rgba(219,63,96,.4);box-shadow:1px 2px 5px rgba(219,63,96,.4)}body.?%PAGE?%[data-v-55cbbff3]{background:#f8f8f8}',""])},f173:function(t,e,a){"use strict";a.r(e);var i=a("654c"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);e["default"]=n.a},f4d7:function(t,e,a){"use strict";a.r(e);var i=a("30c3"),n=a("f173");for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);a("74a0");var s=a("2877"),c=Object(s["a"])(n["default"],i["a"],i["b"],!1,null,"55cbbff3",null);e["default"]=c.exports}}]);