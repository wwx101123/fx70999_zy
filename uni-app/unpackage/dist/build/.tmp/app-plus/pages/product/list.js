(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/product/list"],{1930:function(t,e,i){"use strict";i.r(e);var a=i("5464"),n=i.n(a);for(var c in a)"default"!==c&&function(t){i.d(e,t,function(){return a[t]})}(c);e["default"]=n.a},"3bb3":function(t,e,i){},5464:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=c(i("880c")),n=c(i("6511"));c(i("93e0")),c(i("4b50")),i("2f62");function c(t){return t&&t.__esModule?t:{default:t}}var s={components:{MescrollUni:a.default},data:function(){return{mescroll:null,downOption:{use:!0,auto:!0},upOption:{use:!1,auto:!1},headerPosition:"fixed",headerTop:"0px",loadingType:"more",filterIndex:0,Id:0,cateId:0,priceOrder:0,cateList:[],goodsList:[]}},onReachBottom:function(){this.mescroll&&this.mescroll.onReachBottom()},onPageScroll:function(t){this.mescroll&&this.mescroll.onPageScroll(t)},onLoad:function(t){wx.setNavigationBarTitle({title:t.title}),this.cateId=t.tid,this.Id=t.sid},methods:{mescrollInit:function(t){this.mescroll=t},downCallback:function(t){t.resetUpScroll()},upCallback:function(t){var e=this;this.getListDataFromNet(n.default.get_goods_listUrl,t.num,t.size,function(i){console.log("mescroll.num="+t.num+", mescroll.size="+t.size+", curPageData.length="+i.length),t.endSuccess(i.length),1==t.num&&(e.goodsList=[]),e.goodsList=e.goodsList.concat(i)},function(){t.endErr()})},getListDataFromNet:function(e,i,a,n,c){var s=this;console.log(s.filterIndex),setTimeout(function(){try{t.request({url:e,data:{is_mobile:1,category_id:s.cateId,user_id:0,page_index:i,page_size:a,keyword:"",goods_type:1,order:s.filterIndex,priceOrder:s.priceOrder},method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){console.log(t.data.data),t.data.status,null==t.data.data&&(t.data.data=[]),n&&n(t.data.data)}})}catch(o){c&&c()}},10)},tabClick:function(t){this.filterIndex===t&&2!==t||(this.filterIndex=t,this.priceOrder=2===t?1===this.priceOrder?2:1:0,this.mescroll.triggerDownScroll())},toggleCateMask:function(t){var e=this,i="show"===t?10:300,a="show"===t?1:0;this.cateMaskState=2,setTimeout(function(){e.cateMaskState=a},i)},changeCate:function(t){this.cateId=t.id},navToDetailPage:function(e){var i=e.id;t.navigateTo({url:"/pages/product/product?id=".concat(i)})},stopPrevent:function(){}}};e.default=s}).call(this,i("6e42")["default"])},"5abe":function(t,e,i){"use strict";i.r(e);var a=i("b057"),n=i("1930");for(var c in n)"default"!==c&&function(t){i.d(e,t,function(){return n[t]})}(c);i("d2be");var s=i("2877"),o=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,null,null);e["default"]=o.exports},b057:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"content"},[i("div",{directives:[{name:"title",rawName:"v-title"}],staticClass:"main",attrs:{"data-title":"登录"}}),i("view",{staticClass:"navbar",style:{position:t.headerPosition,top:t.headerTop}},[i("view",{staticClass:"nav-item",class:{current:0===t.filterIndex},attrs:{eventid:"c8cdb352-0"},on:{click:function(e){t.tabClick(0)}}},[t._v("综合排序")]),i("view",{staticClass:"nav-item",class:{current:1===t.filterIndex},attrs:{eventid:"c8cdb352-1"},on:{click:function(e){t.tabClick(1)}}},[t._v("销量优先")]),i("view",{staticClass:"nav-item",class:{current:2===t.filterIndex},attrs:{eventid:"c8cdb352-2"},on:{click:function(e){t.tabClick(2)}}},[i("text",[t._v("价格")]),i("view",{staticClass:"p-box"},[i("text",{staticClass:"yticon icon-shang",class:{active:1===t.priceOrder&&2===t.filterIndex}}),i("text",{staticClass:"yticon icon-shang xia",class:{active:2===t.priceOrder&&2===t.filterIndex}})])])]),i("mescroll-uni",{attrs:{eventid:"c8cdb352-4",mpcomid:"c8cdb352-0"},on:{down:t.downCallback,up:t.upCallback,init:t.mescrollInit}},[i("view",{staticClass:"goods-list"},t._l(t.goodsList,function(e,a){return i("view",{key:a,staticClass:"goods-item",attrs:{eventid:"c8cdb352-3-"+a},on:{click:function(i){t.navToDetailPage(e)}}},[i("view",{staticClass:"image-wrapper"},[i("image",{attrs:{src:e.icon,mode:"aspectFill"}})]),i("text",{staticClass:"title clamp"},[t._v(t._s(e.title))]),i("view",{staticClass:"price-box"},[i("text",{staticClass:"price"},[t._v(t._s(e.price))]),i("text",[t._v("已售 "+t._s(e.sell_count))])])])}))])],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},b9c0:function(t,e,i){"use strict";i("feb3");var a=c(i("b0ce")),n=c(i("5abe"));function c(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(n.default))},d2be:function(t,e,i){"use strict";var a=i("3bb3"),n=i.n(a);n.a}},[["b9c0","common/runtime","common/vendor"]]]);