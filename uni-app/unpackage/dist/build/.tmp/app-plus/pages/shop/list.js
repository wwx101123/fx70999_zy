(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shop/list"],{3282:function(t,e,i){"use strict";i.r(e);var a=i("339b"),s=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);e["default"]=s.a},"339b":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("880c")),s=n(i("6511"));n(i("93e0")),n(i("4b50")),i("2f62");function n(t){return t&&t.__esModule?t:{default:t}}var o={components:{MescrollUni:a.default},data:function(){return{mescroll:null,downOption:{use:!0,auto:!0},upOption:{use:!1,auto:!1},headerPosition:"relative",headerTop:"0px",loadingType:"more",filterIndex:0,Id:0,cateId:0,shopId:0,priceOrder:0,cateList:[],goodsList:[],seller:{title:"",background:""}}},onReachBottom:function(){this.mescroll&&this.mescroll.onReachBottom()},onPageScroll:function(t){this.mescroll&&this.mescroll.onPageScroll(t)},onLoad:function(t){wx.setNavigationBarTitle({title:"店铺"}),this.cateId=t.tid,this.shopId=t.shopid,console.log(this.shopId),this.Id=t.sid},methods:{mescrollInit:function(t){this.mescroll=t},downCallback:function(t){t.resetUpScroll()},upCallback:function(t){var e=this;this.getListDataFromNet(s.default.get_goods_listUrl,t.num,t.size,function(i){t.endSuccess(i.data.length),console.log(i.seller),e.seller=i.seller,1==t.num&&(e.goodsList=[]),e.goodsList=e.goodsList.concat(i.data)},function(){t.endErr()})},getListDataFromNet:function(e,i,a,s,n){var o=this;console.log(o.filterIndex),setTimeout(function(){try{t.request({url:e,data:{is_mobile:1,category_id:o.cateId,shop_id:o.shopId,user_id:0,page_index:i,page_size:a,keyword:"",goods_type:1,order:o.filterIndex,priceOrder:o.priceOrder},method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){console.log(t.data.data),t.data.status,null==t.data.data&&(t.data.data=[]),s&&s(t.data)}})}catch(c){n&&n()}},10)},tabClick:function(t){this.filterIndex===t&&2!==t||(this.filterIndex=t,this.priceOrder=2===t?1===this.priceOrder?2:1:0,this.mescroll.triggerDownScroll())},toggleCateMask:function(t){var e=this,i="show"===t?10:300,a="show"===t?1:0;this.cateMaskState=2,setTimeout(function(){e.cateMaskState=a},i)},changeCate:function(t){this.cateId=t.id},navToDetailPage:function(e){var i=e.id;t.navigateTo({url:"/pages/product/product?id=".concat(i)})},stopPrevent:function(){}}};e.default=o}).call(this,i("6e42")["default"])},"341f":function(t,e,i){"use strict";i.r(e);var a=i("81f2"),s=i("3282");for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);i("d5ce");var o=i("2877"),c=Object(o["a"])(s["default"],a["a"],a["b"],!1,null,null,null);e["default"]=c.exports},"3f5b":function(t,e,i){},"81f2":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{},[i("view",{staticClass:"flex-sub text-center"},[i("view",{staticClass:"solid-bottom text-xsl padding"},[i("view",{staticClass:"cu-avatar xl round ",style:{background:t.seller.background}})]),i("view",{staticClass:"padding"},[t._v(t._s(t.seller.title))])]),i("div",{directives:[{name:"title",rawName:"v-title"}],staticClass:"main",attrs:{"data-title":"登录"}}),i("view",{staticClass:"navbar",style:{position:t.headerPosition,top:t.headerTop}},[i("view",{staticClass:"nav-item",class:{current:0===t.filterIndex},attrs:{eventid:"3dbc4a1e-0"},on:{click:function(e){t.tabClick(0)}}},[t._v("综合排序")]),i("view",{staticClass:"nav-item",class:{current:1===t.filterIndex},attrs:{eventid:"3dbc4a1e-1"},on:{click:function(e){t.tabClick(1)}}},[t._v("销量优先")]),i("view",{staticClass:"nav-item",class:{current:2===t.filterIndex},attrs:{eventid:"3dbc4a1e-2"},on:{click:function(e){t.tabClick(2)}}},[i("text",[t._v("价格")]),i("view",{staticClass:"p-box"},[i("text",{staticClass:"yticon icon-shang",class:{active:1===t.priceOrder&&2===t.filterIndex}}),i("text",{staticClass:"yticon icon-shang xia",class:{active:2===t.priceOrder&&2===t.filterIndex}})])])]),i("mescroll-uni",{attrs:{eventid:"3dbc4a1e-4",mpcomid:"3dbc4a1e-0"},on:{down:t.downCallback,up:t.upCallback,init:t.mescrollInit}},[i("view",{staticClass:"goods-list"},t._l(t.goodsList,function(e,a){return i("view",{key:a,staticClass:"goods-item",attrs:{eventid:"3dbc4a1e-3-"+a},on:{click:function(i){t.navToDetailPage(e)}}},[i("view",{staticClass:"image-wrapper"},[i("image",{attrs:{src:e.icon,mode:"aspectFill"}})]),i("text",{staticClass:"title clamp"},[t._v(t._s(e.title))]),i("view",{staticClass:"price-box"},[i("text",{staticClass:"price"},[t._v(t._s(e.price))]),i("text",[t._v("已售 "+t._s(e.sell_count))])])])}))])],1)},s=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return s})},d5ce:function(t,e,i){"use strict";var a=i("3f5b"),s=i.n(a);s.a},f9f3:function(t,e,i){"use strict";i("feb3");var a=n(i("b0ce")),s=n(i("341f"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(s.default))}},[["f9f3","common/runtime","common/vendor"]]]);