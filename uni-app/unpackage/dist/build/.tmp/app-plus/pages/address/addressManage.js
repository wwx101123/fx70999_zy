(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/address/addressManage"],{"0f5c":function(e,t,a){"use strict";a.r(t);var s=a("e44f"),i=a("939c");for(var n in i)"default"!==n&&function(e){a.d(t,e,function(){return i[e]})}(n);a("4ab2");var r=a("2877"),d=Object(r["a"])(i["default"],s["a"],s["b"],!1,null,null,null);t["default"]=d.exports},"3da9":function(e,t,a){"use strict";a("feb3");var s=n(a("b0ce")),i=n(a("0f5c"));function n(e){return e&&e.__esModule?e:{default:e}}Page((0,s.default)(i.default))},"4ab2":function(e,t,a){"use strict";var s=a("7f62"),i=a.n(s);i.a},"7f62":function(e,t,a){},"939c":function(e,t,a){"use strict";a.r(t);var s=a("ea3b"),i=a.n(s);for(var n in s)"default"!==n&&function(e){a.d(t,e,function(){return s[e]})}(n);t["default"]=i.a},e44f:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("view",{staticClass:"content"},[a("view",{staticClass:"row b-b"},[a("text",{staticClass:"tit"},[e._v("联系人")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addressData.name,expression:"addressData.name"}],staticClass:"input",attrs:{type:"text",placeholder:"收货人姓名","placeholder-class":"placeholder",eventid:"1f9829b6-0"},domProps:{value:e.addressData.name},on:{input:function(t){t.target.composing||(e.addressData.name=t.target.value)}}})]),a("view",{staticClass:"row b-b"},[a("text",{staticClass:"tit"},[e._v("手机号")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addressData.mobile,expression:"addressData.mobile"}],staticClass:"input",attrs:{type:"number",placeholder:"收货人手机号码","placeholder-class":"placeholder",eventid:"1f9829b6-1"},domProps:{value:e.addressData.mobile},on:{input:function(t){t.target.composing||(e.addressData.mobile=t.target.value)}}})]),a("view",{staticClass:"row b-b"},[a("text",{staticClass:"tit"},[e._v("省市区")]),a("view",{staticClass:"input",attrs:{eventid:"1f9829b6-2"},on:{tap:e.chooseCity}},[e._v(e._s(e.addressData.province)+e._s(e.addressData.city)+e._s(e.addressData.area))])]),a("view",{staticClass:"row b-b"},[a("text",{staticClass:"tit"},[e._v("地址")]),a("text",{staticClass:"input",attrs:{width:"100%",eventid:"1f9829b6-3"},on:{click:e.chooseLocation}},[e._v(e._s(e.addressData.addressName))]),a("text",{staticClass:"yticon icon-shouhuodizhi"})]),a("view",{staticClass:"row b-b"},[a("text",{staticClass:"tit"},[e._v("门牌号")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addressData.street,expression:"addressData.street"}],staticClass:"input",attrs:{type:"text",placeholder:"楼号、门牌","placeholder-class":"placeholder",eventid:"1f9829b6-4"},domProps:{value:e.addressData.street},on:{input:function(t){t.target.composing||(e.addressData.street=t.target.value)}}})]),a("view",{staticClass:"row default-row"},[a("text",{staticClass:"tit"},[e._v("设为默认")]),a("switch",{attrs:{checked:e.addressData.default,color:"#fa436a",eventid:"1f9829b6-5"},on:{change:e.switchChange}})]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addressData.id,expression:"addressData.id"},{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"input",attrs:{type:"text",eventid:"1f9829b6-6"},domProps:{value:e.addressData.id},on:{input:function(t){t.target.composing||(e.addressData.id=t.target.value)}}}),a("button",{staticClass:"add-btn",attrs:{eventid:"1f9829b6-7"},on:{click:e.confirm}},[e._v("提交")]),a("mpvue-city-picker",{ref:"mpvueCityPicker",attrs:{themeColor:e.themeColor,pickerValueDefault:e.cityPickerValue,eventid:"1f9829b6-8",mpcomid:"1f9829b6-0"},on:{onCancel:e.onCancel,onConfirm:e.onConfirm}})],1)},i=[];a.d(t,"a",function(){return s}),a.d(t,"b",function(){return i})},ea3b:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("ff50")),i=n(a("6511"));function n(e){return e&&e.__esModule?e:{default:e}}var r={components:{mpvueCityPicker:s.default},data:function(){return{addressData:{name:"",mobile:"",addressName:"在地图选择",address:"",area:"请选择省市区",default:!1,street:""},lotusAddressData:{visible:!1,provinceName:"广东省",cityName:"广州市",townName:"天河区"},region:""}},onLoad:function(t){var a="新增收货地址";t.type="add","undefined"!=t.data&&(console.log(t.data),this.addressData=JSON.parse(t.data),this.addressData.id>0&&(a="编辑收货地址",t.type="edit")),this.manageType=t.type,e.setNavigationBarTitle({title:a})},methods:{chooseCity:function(){this.$refs.mpvueCityPicker.show()},onConfirm:function(e){var t=e.label.split("-");this.addressData.province=t[0],this.addressData.city=t[1],this.addressData.area=t[2],this.cityPickerValue=e.value},switchChange:function(e){this.addressData.default=e.detail},chooseLocation:function(){var t=this;e.chooseLocation({success:function(e){t.addressData.addressName=e.name,t.addressData.address=e.name}})},confirm:function(){var t=this.addressData;if(t.name)if(/(^1[3|4|5|7|8][0-9]{9}$)/.test(t.mobile))if(t.address)if(t.area){console.log(t.id);var a=this;e.request({url:i.default.user_address_editUrl,data:{is_mobile:1,txtProvince:t.province,txtCity:t.city,txtArea:t.area,txtAcceptName:t.name,txtAddress:t.addressName,street:t.street,txtMobile:t.mobile,default:t.default,id:t.id},method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},success:function(s){1==s.data.status?(a.$api.prePage().refreshList(t,a.manageType),a.$api.msg("地址".concat("edit"==a.manageType?"修改":"添加","成功")),setTimeout(function(){e.navigateBack()},800)):a.$api.msg(s.data.info)}})}else this.$api.msg("请填写门牌号信息");else this.$api.msg("请在地图选择所在位置");else this.$api.msg("请输入正确的手机号码");else this.$api.msg("请填写收货人姓名")}}};t.default=r}).call(this,a("6e42")["default"])}},[["3da9","common/runtime","common/vendor"]]]);