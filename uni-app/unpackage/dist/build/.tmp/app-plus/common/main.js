(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{"0764":function(e,t,n){"use strict";var i=n("f3d0"),a=n.n(i);a.a},"2a31":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("2f62");function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={methods:a({},(0,i.mapMutations)(["login"])),onLaunch:function(){var t=this,n=e.getStorageSync("userInfo")||"";console.log(n.id),n.id&&e.getStorage({key:"userInfo",success:function(e){t.login(e.data)}})},onShow:function(){console.log("App Show")},onHide:function(){console.log("App Hide")}};t.default=u}).call(this,n("6e42")["default"])},"2a49":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("f3d3")),a=o(n("2f62"));function o(e){return e&&e.__esModule?e:{default:e}}i.default.use(a.default);var u=new a.default.Store({state:{hasLogin:!1,userInfo:{},bi:{},user_id:0,splashAdvertPreTime:0},mutations:{login:function(t,n){t.hasLogin=!0,t.userInfo=n.data,null!=n.data&&(console.log(n.data.re_share_title),t.user_id=n.data.id,t.bi=n.bi,e.setStorage({key:"userInfo",data:n.data}),e.setStorage({key:"bi",data:n.bi}),e.setStorage({key:"user_id",data:n.data.id}))},logout:function(t){console.log(2222),t.hasLogin=!1,t.bi={},e.removeStorage({key:"userInfo"}),e.removeStorage({key:"bi"})}},actions:{}}),r=u;t.default=r}).call(this,n("6e42")["default"])},"3ac8":function(e,t,n){"use strict";n.r(t);var i=n("aa6c"),a=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t["default"]=a.a},"4fe1":function(e,t,n){"use strict";n.r(t);var i=n("e1ec"),a=n("3ac8");for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);n("7984");var u=n("2877"),r=Object(u["a"])(a["default"],i["a"],i["b"],!1,null,"0a350898",null);t["default"]=r.exports},5260:function(e,t,n){"use strict";n.r(t);var i=n("2a31"),a=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t["default"]=a.a},7984:function(e,t,n){"use strict";var i=n("c1e3"),a=n.n(i);a.a},"810c":function(e,t,n){"use strict";n.r(t);var i=n("5260");for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);n("0764");var o,u,r=n("2877"),c=Object(r["a"])(i["default"],o,u,!1,null,null,null);t["default"]=c.exports},"9a29":function(e,t,n){"use strict";(function(e){n("feb3");var t=r(n("f3d3")),i=r(n("2a49")),a=r(n("810c")),o=r(n("4fe1")),u=r(n("feb2"));function r(e){return e&&e.__esModule?e:{default:e}}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){s(e,t,n[t])})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";!1!==Boolean(t)&&e.showToast({title:t,duration:n,mask:i,icon:a})},p=function(e){return new Promise(function(t){setTimeout(function(){t(u.default[e])},500)})},f=function(){var e=getCurrentPages(),t=e[e.length-2];return t.$vm};t.default.directive("title",{inserted:function(e,t){document.title=e.dataset.title}}),t.default.component("sunui-upbasic",o.default),t.default.config.productionTip=!1,t.default.prototype.$fire=new t.default,t.default.prototype.$store=i.default,t.default.prototype.$api={msg:l,json:p,prePage:f},a.default.mpType="app";var d=new t.default(c({},a.default));d.$mount()}).call(this,n("6e42")["default"])},aa6c:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("a34a")),a=o(n("6511"));function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,i,a,o,u){try{var r=e[o](u),c=r.value}catch(s){return void n(s)}r.done?t(c):Promise.resolve(c).then(i,a)}function r(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var o=e.apply(t,n);function r(e){u(o,i,a,r,c,"next",e)}function c(e){u(o,i,a,r,c,"throw",e)}r(void 0)})}}var c={data:function(){return{upload_after_list:[],upload_picture_list:[]}},name:"sunui-upimg",props:{upImgConfig:{type:Object}},methods:{chooseImage:function(e){d(this,parseInt(e),this.upImgConfig)},uploadimage:function(e){p(this,e)},deleteImg:function(e){f(e,this)},previewImg:function(e){m(e,this)},previewImgs:function(e){v(e,this)}}};t.default=c;var s=function(){var t=r(i.default.mark(function t(n,o,u,c){var s,p;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s={url:o.basicConfig.url||""},t.next=3,e.uploadFile({url:s.url,filePath:u[c]["path"],name:"file",formData:{},success:function(){var t=r(i.default.mark(function t(r){var s;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(200!=r.statusCode){t.next=10;break}return console.log(JSON.stringify(r)),s=JSON.parse(r.data),console.log("%c 后端上传(成功返回地址):".concat(s.url),"color:#1AAD19"),u[c]["path_server"]=a.default.IP+s.url,u[c]["path"]=s.url,n.upload_picture_list=u,t.next=9,l(n,u,o.count);case 9:e.hideLoading();case 10:case"end":return t.stop()}},t,this)}));function s(e){return t.apply(this,arguments)}return s}(),fail:function(){var t=r(i.default.mark(function t(a){return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.showLoading({title:"上传失败!"}),n.upload_picture_list=[],n.upload_after_list=[],setTimeout(function(){e.hideLoading()},2e3),console.warn(a,"请检查是否CORB/CORS错误!");case 5:case"end":return t.stop()}},t,this)}));function a(e){return t.apply(this,arguments)}return a}()});case 3:p=t.sent,p.onProgressUpdate(function(){var e=r(i.default.mark(function e(t){var a,o;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=0,o=n.upload_picture_list.length;case 1:if(!(a<o)){e.next=8;break}return e.next=4,t.progress;case 4:u[a]["upload_percent"]=e.sent;case 5:a++,e.next=1;break;case 8:n.upload_picture_list=u;case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return t.stop()}},t,this)}));return function(e,n,i,a){return t.apply(this,arguments)}}(),l=function(){var e=r(i.default.mark(function e(t,n,a){return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$emit("onUpImg",t.upload_picture_list);case 2:case"end":return e.stop()}},e,this)}));return function(t,n,i){return e.apply(this,arguments)}}(),p=function(){var e=r(i.default.mark(function e(t,n){var a,o;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=0,o=t.upload_picture_list.length;case 1:if(!(a<o)){e.next=8;break}if(0!=t.upload_picture_list[a]["upload_percent"]){e.next=5;break}return e.next=5,s(t,n,t.upload_picture_list,a);case 5:a++,e.next=1;break;case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=r(i.default.mark(function e(t,n){return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.$emit("onImgDel",{url:t.currentTarget.dataset.url,index:t.currentTarget.dataset.index});case 2:n.upload_picture_list.splice(t.currentTarget.dataset.index,1),n.upload_after_list.splice(t.currentTarget.dataset.index,1),n.upload_picture_list=n.upload_picture_list;case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),d=function(t,n,a){var o={basicConfig:{url:a.basicConfig.url},count:n,notli:a.notli,sourceType:a.sourceType,sizeType:a.sizeType,tips:a.tips||!1};console.log(o.count),console.log(t.upload_after_list.length),o.count<=t.upload_after_list.length?e.showToast({title:"只能传"+o.count+"张",icon:"none"}):e.chooseImage({count:o.notli?o.count=9:0==t.upload_after_list.length?o.count:o.count-t.upload_after_list.length,sizeType:""==o.sizeType||void 0==o.sizeType||1==o.sizeType?["compressed"]:["original"],sourceType:["album","camera"],success:function(){var e=r(i.default.mark(function e(n){var a,u;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(console.log(n),a=0,u=n.tempFiles.length;a<u;a++)n.tempFiles[a]["upload_percent"]=0,n.tempFiles[a]["path_server"]="",t.upload_picture_list.push(n.tempFiles[a]),t.upload_picture_list.length>o.count&&(t.upload_picture_list=t.upload_picture_list.slice(0,o.count));return e.next=4,g(t,n,o);case 4:case"end":return e.stop()}},e,this)}));function n(t){return e.apply(this,arguments)}return n}()})},g=function(e,t,n){!n.notli&&n.count==e.upload_picture_list.length&&p(e,n),n.notli&&9==n.count&&p(e,n),e.upload_after_list=e.upload_after_list.concat(t.tempFilePaths).slice(0,n.count),e.upload_picture_list=e.upload_picture_list.slice(0,n.count)},m=function(t,n){e.previewImage({current:n.upload_after_list[t.currentTarget.dataset.index],urls:n.upload_after_list})},v=function(){var t=r(i.default.mark(function t(n,a){var o,u,r;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:for(o=[],u=0,r=a.upload_picture_list.length;u<r;u++)o.push(a.upload_picture_list[u].path);e.previewImage({current:o[n.currentTarget.dataset.idx],urls:o});case 3:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}).call(this,n("6e42")["default"])},c1e3:function(e,t,n){},e1ec:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("view",{staticClass:"sunsin_picture_list"},[e._l(e.upload_picture_list,function(t,i){return n("view",{key:i,staticClass:"sunsin_picture_item"},[n("image",{directives:[{name:"show",rawName:"v-show",value:t.upload_percent<100,expression:"item.upload_percent < 100"}],attrs:{src:t.path,mode:"aspectFill"}}),n("image",{directives:[{name:"show",rawName:"v-show",value:100==t.upload_percent,expression:"item.upload_percent == 100"}],attrs:{src:t.path_server,mode:"aspectFill","data-idx":i,eventid:"4bf25d7d-0-"+i},on:{click:e.previewImgs}}),n("view",{directives:[{name:"show",rawName:"v-show",value:t.upload_percent<100,expression:"item.upload_percent < 100"}],staticClass:"sunsin_upload_progress",attrs:{"data-index":i,eventid:"4bf25d7d-1-"+i},on:{click:e.previewImg}},[e._v(e._s(t.upload_percent)+"%")]),n("text",{staticClass:"del iconfont icon-shanchu",class:"left"==e.upImgConfig.delBtnLocation?"left":"right"==e.upImgConfig.delBtnLocation?"right":"bleft"==e.upImgConfig.delBtnLocation?"bleft":"bright"==e.upImgConfig.delBtnLocation?"bright":"right",style:"color:"+e.upImgConfig.delIconText+";background-color:"+e.upImgConfig.delIconColor,attrs:{"data-url":t.path_server,"data-index":i,hidden:e.upImgConfig.isDelIcon||!1,eventid:"4bf25d7d-2-"+i},on:{click:e.deleteImg}})])}),n("view",[""==e.upImgConfig.iconReplace||void 0==e.upImgConfig.iconReplace?n("view",{directives:[{name:"show",rawName:"v-show",value:e.upload_picture_list.length<e.upImgConfig.count||e.upImgConfig.notli,expression:"upload_picture_list.length<upImgConfig.count || upImgConfig.notli"}],staticClass:"sunsin_picture_item"},[n("view",{directives:[{name:"show",rawName:"v-show",value:!e.upImgConfig.isAddImage||!1,expression:"!upImgConfig.isAddImage || false"}],staticClass:"sunsin_add_image",style:"background-color:"+e.upImgConfig.upBgColor,attrs:{eventid:"4bf25d7d-3"},on:{click:function(t){e.chooseImage(e.upImgConfig.count)}}},[n("view",{staticClass:"icon-basic",class:void 0==e.upImgConfig.upSvgIconName||""==e.upImgConfig.upSvgIconName?"icon-addicon":e.upImgConfig.upSvgIconName}),n("view",{staticClass:"icon-text",style:"color:"+e.upImgConfig.upIconColor+";width:100%;"},[e._v(e._s(void 0==e.upImgConfig.upTextDesc||""==e.upImgConfig.upTextDesc?"上传照片":e.upImgConfig.upTextDesc))])])]):n("view",{directives:[{name:"show",rawName:"v-show",value:e.upload_picture_list.length<e.upImgConfig.count||e.upImgConfig.notli,expression:"upload_picture_list.length<upImgConfig.count || upImgConfig.notli"}],staticClass:"sunsin_picture_item"},[n("view",{directives:[{name:"show",rawName:"v-show",value:e.upImgConfig.isAddImage||!0,expression:"upImgConfig.isAddImage || true"}],staticClass:"sunsin_add_image",staticStyle:{"'background-color":"#fff"},attrs:{eventid:"4bf25d7d-4"},on:{click:function(t){e.chooseImage(e.upImgConfig.count)}}},[n("image",{staticClass:"icon_replace",attrs:{src:e.upImgConfig.iconReplace}})])])])],2)])},a=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a})},f3d0:function(e,t,n){}},[["9a29","common/runtime","common/vendor"]]]);