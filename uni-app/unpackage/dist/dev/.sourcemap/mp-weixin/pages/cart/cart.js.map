{"version":3,"sources":["webpack:///D:/phpStudy/WWW/fx70999_zy/uni-app/pages/cart/cart.vue","webpack:///D:/phpStudy/WWW/fx70999_zy/uni-app/pages/cart/cart.vue?3a63","webpack:///D:/phpStudy/WWW/fx70999_zy/uni-app/pages/cart/cart.vue?ec9a","webpack:///D:/phpStudy/WWW/fx70999_zy/uni-app/main.js","webpack:///D:/phpStudy/WWW/fx70999_zy/uni-app/pages/cart/cart.vue?24e1","webpack:///D:/phpStudy/WWW/fx70999_zy/uni-app/pages/cart/cart.vue?5d98","webpack:///D:/phpStudy/WWW/fx70999_zy/uni-app/pages/cart/cart.vue?b041","webpack:///D:/phpStudy/WWW/fx70999_zy/uni-app/pages/cart/cart.vue?8d1a"],"names":["components","MescrollUni","uniNumberBox","computed","data","mescroll","downOption","use","auto","upOption","total","allChecked","empty","cartList","cart_ids","onPageScroll","e","onLoad","userInfo","undefined","url","uni","navigateTo","onShow","console","log","refresh","watch","length","methods","that","mescrollInit","downCallback","request","common","get_cart_itemsUrl","is_mobile","user_id","id","method","header","success","res","status","list","map","item","checked","calcTotal","setTimeout","endSuccess","onImageLoad","key","index","$set","onImageError","image","navToLogin","check","type","forEach","numberChange","number","cart_goods_updateUrl","article_id","goods_id","deleteCartItem","row","splice","cart_goods_delete","hideLoading","clearCart","showModal","content","confirm","price","Number","toFixed","createOrder","goodsData","push","attr_val","JSON","stringify","Page","App"],"mappings":"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dF,WAAG,0CAAmC8D,IAAI,CAACC,SAAL,CAAe;AACpDJ,mBAAS,EAAEA,SADyC,EAAf,CAAnC,CADW,EAAf;;;AAKA;AACA,KA3PO,EAvDK,E;;;;;;;;;;;;ACnEf,uC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,2BAA2B;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,eAAe;AACf,SAAS;AACT;AACA;AACA,0BAA0B,uBAAuB;AACjD;AACA,0BAA0B;AAC1B,iBAAiB;AACjB;AACA;AACA;AACA,uBAAuB,4BAA4B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,4BAA4B;AAC5D;AACA;AACA;AACA;AACA;AACA,kCAAkC,wBAAwB;AAC1D,+BAA+B;AAC/B,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,2BAA2B;AAC9C;AACA,wCAAwC,eAAe;AACvD;AACA;AACA;AACA;AACA,kCAAkC;AAClC,yBAAyB;AACzB;AACA,sCAAsC,+BAA+B;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,sCAAsC,wBAAwB;AAC9D,sCAAsC,iCAAiC;AACvE;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,6BAA6B,4BAA4B;AACzD;AACA,0CAA0C,6BAA6B;AACvE;AACA;AACA,0CAA0C,sBAAsB;AAChE;AACA;AACA,0CAA0C,uBAAuB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,qCAAqC;AACrC,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA,oCAAoC,iCAAiC;AACrE;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA,mBAAmB,gCAAgC;AACnD;AACA,gCAAgC,0BAA0B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA,kCAAkC,uBAAuB;AACzD,kCAAkC,wBAAwB;AAC1D;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,gCAAgC,2BAA2B;AAC3D,kCAAkC,uBAAuB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,yCAAyC;AACzE,6BAA6B;AAC7B,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC7MA;AACA;AACI,sJ;AACAK,IAAI,CAAC,+BAAYC,aAAZ,CAAD,CAAJ,C;;;;;;;;;;;;ACHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmF;AAC3B;AACL;AACc;;;AAGjE;AAC4H;AAC5H,gBAAgB,0IAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAA6lB,CAAgB,wnBAAG,EAAC,C;;;;;;;;;;;;ACAjnB;AAAA;AAAA;AAAA;AAA06B,CAAgB,u6BAAG,EAAC,C;;;;;;;;;;;;ACA97B;AAAA;AAAA;AAAA;AAAA;AAAA","file":"pages/cart/cart.js","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// 自定义的mescroll-meituan.vue\nimport MescrollUni from \"../../components/mescroll-diy/mescroll-meituan.vue\";\nimport common from '../../common/common.js';\nimport {\n\tmapState\n} from 'vuex';\nimport uniNumberBox from '@/components/uni-number-box.vue'\nexport default {\n\tcomponents: {\n\t\tMescrollUni,\n\t\tuniNumberBox\n\t},\n\tcomputed: {\n\t\t...mapState(['hasLogin', 'userInfo', 'bi'])\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmescroll: null, //mescroll实例对象\n\t\t\t// 下拉刷新的配置\n\t\t\tdownOption: {\n\t\t\t\tuse: true, // 是否启用下拉刷新; 默认true\n\t\t\t\tauto: true, // 是否在初始化完毕之后自动执行下拉刷新的回调; 默认true\n\t\t\t},\n\t\t\t// 上拉加载的配置\n\t\t\tupOption: {\n\t\t\t\tuse: false, // 是否启用上拉加载; 默认true\n\t\t\t\tauto: false\n\t\t\t},\n\t\t\ttotal: 0, //总价格\n\t\t\tallChecked: false, //全选状态  true|false \n\t\t\tempty: false, //空白页现实  true|false\n\t\t\tcartList: [],\n\t\t\tcart_ids: ''\n\t\t};\n\t},\n\t//注册列表滚动事件,用于下拉刷新\n\tonPageScroll(e) {\n\t\tthis.mescroll && this.mescroll.onPageScroll(e);\n\t},\n\n\tonLoad() {\n\t\tif (this.userInfo == undefined) {\n\t\t\tlet url = '/pages/public/login';\n\t\t\tuni.navigateTo({\n\t\t\t\turl\n\t\t\t})\n\n\t\t}\n\t},\n\tonShow() {\n\t\tconsole.log(2222)\n\t\tthis.refresh()\n\t},\n\twatch: {\n\t\t//显示空白页 \n\t\tcartList(e) {\n\t\t\tlet empty = e.length === 0 ? true : false;\n\t\t\tif (this.empty !== empty) {\n\t\t\t\tthis.empty = empty;\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\t//添加或修改成功之后回调\n\t\trefresh() {\n\t\t\tlet that = this;\n\t\t\tthat.mescrollInit(that.mescroll);\n\t\t\tthat.downCallback(that.mescroll)\n\t\t},\n\t\t// mescroll组件初始化的回调,可获取到mescroll对象\n\t\tmescrollInit(mescroll) {\n\t\t\tthis.mescroll = mescroll;\n\t\t},\n\t\t// 下拉刷新的回调\n\t\tdownCallback(mescroll) {\n\n\n\t\t\tlet that = this;\n\t\t\tuni.request({\n\t\t\t\turl: common.get_cart_itemsUrl, //仅为示例，并非真实接口地址。\n\t\t\t\tdata: {\n\t\t\t\t\tis_mobile: 1,\n\t\t\t\t\tuser_id: that.userInfo.id\n\t\t\t\t},\n\t\t\t\tmethod: 'POST',\n\t\t\t\theader: {\n\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\n\t\t\t\t},\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tif (res.data.status == 1) {\n\t\t\t\t\t\tlet list = res.data.data;\n\n\t\t\t\t\t\tif (list != null) {\n\n\n\n\t\t\t\t\t\t\tconsole.log(list)\n\t\t\t\t\t\t\tlet cartList = list.map(item => {\n\t\t\t\t\t\t\t\titem.checked = true;\n\t\t\t\t\t\t\t\treturn item;\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tthat.cart_ids = res.data.cart_ids;\n\t\t\t\t\t\t\tthat.cartList = cartList;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthat.calcTotal(); //计算总价\n\t\t\t\t\t} else {\n\n\n\n\t\t\t\t\t}\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tmescroll.endSuccess()\n\t\t\t\t\t}, 1000)\n\n\n\n\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\n\t\t//监听image加载完成\n\t\tonImageLoad(key, index) {\n\t\t\tthis.$set(this[key][index], 'loaded', 'loaded');\n\t\t},\n\t\t//监听image加载失败\n\t\tonImageError(key, index) {\n\t\t\tthis[key][index].image = '/static/errorImage.jpg';\n\t\t},\n\t\tnavToLogin() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/public/login'\n\t\t\t})\n\t\t},\n\t\t//选中状态处理\n\t\tcheck(type, index) {\n\t\t\tif (type === 'item') {\n\t\t\t\tthis.cartList[index].checked = !this.cartList[index].checked;\n\t\t\t} else {\n\t\t\t\tconst checked = !this.allChecked\n\t\t\t\tconst list = this.cartList;\n\t\t\t\tlist.forEach(item => {\n\t\t\t\t\titem.checked = checked;\n\t\t\t\t})\n\t\t\t\tthis.allChecked = checked;\n\t\t\t}\n\t\t\tthis.calcTotal(type);\n\t\t},\n\t\t//数量\n\t\tnumberChange(data) {\n\t\t\tthis.cartList[data.index].number = data.number;\n\n\t\t\tlet that = this;\n\n\t\t\tuni.request({\n\t\t\t\turl: common.cart_goods_updateUrl, //仅为示例，并非真实接口地址。\n\t\t\t\tdata: {\n\t\t\t\t\t\"is_mobile\": 1,\n\t\t\t\t\t\"user_id\": that.userInfo.id,\n\t\t\t\t\t\"article_id\": that.cartList[data.index].article_id,\n\t\t\t\t\t\"goods_id\": that.cartList[data.index].goods_id,\n\t\t\t\t\t\"quantity\": data.number\n\t\t\t\t},\n\t\t\t\tmethod: 'POST',\n\t\t\t\theader: {\n\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\n\t\t\t\t},\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tif (res.data.status == 1) {} else {\n\n\n\n\t\t\t\t\t}\n\n\n\n\n\n\t\t\t\t}\n\t\t\t});\n\n\n\n\n\t\t\tthis.calcTotal();\n\t\t},\n\t\t//删除\n\t\tdeleteCartItem(index) {\n\t\t\tlet list = this.cartList;\n\t\t\tlet row = list[index];\n\t\t\tlet id = row.id;\n\n\t\t\tthis.cartList.splice(index, 1);\n\t\t\tthis.calcTotal();\n\n\t\t\tlet that = this;\n\t\t\tuni.request({\n\t\t\t\turl: common.cart_goods_delete, //仅为示例，并非真实接口地址。\n\t\t\t\tdata: {\n\t\t\t\t\t\"is_mobile\": 1,\n\t\t\t\t\t\"user_id\": that.userInfo.id,\n\t\t\t\t\t\"article_id\": row.article_id,\n\t\t\t\t\t\"goods_id\": row.goods_id,\n\t\t\t\t\t\"cart_ids\": id\n\t\t\t\t},\n\t\t\t\tmethod: 'POST',\n\t\t\t\theader: {\n\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\n\t\t\t\t},\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tif (res.data.status == 1) {} else {\n\n\n\n\t\t\t\t\t}\n\n\n\n\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tuni.hideLoading();\n\t\t},\n\t\t//清空\n\t\tclearCart() {\n\t\t\tuni.showModal({\n\t\t\t\tcontent: '清空购物车？',\n\t\t\t\tsuccess: (e) => {\n\t\t\t\t\tif (e.confirm) {\n\n\n\t\t\t\t\t\tlet that = this;\n\n\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl: common.cart_goods_delete, //仅为示例，并非真实接口地址。\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\"is_mobile\": 1,\n\t\t\t\t\t\t\t\t\"user_id\": that.userInfo.id,\n\t\t\t\t\t\t\t\t\"cart_ids\": that.cart_ids\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\tif (res.data.status == 1) {\n\n\n\t\t\t\t\t\t\t\t\tthat.cartList = [];\n\n\t\t\t\t\t\t\t\t} else {\n\n\n\n\t\t\t\t\t\t\t\t}\n\n\n\n\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t//计算总价\n\t\tcalcTotal() {\n\t\t\tlet list = this.cartList;\n\t\t\tif (list.length === 0) {\n\t\t\t\tthis.empty = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet total = 0;\n\t\t\tlet checked = true;\n\t\t\tlist.forEach(item => {\n\t\t\t\tif (item.checked === true) {\n\t\t\t\t\ttotal += item.price * item.number;\n\t\t\t\t} else if (checked === true) {\n\t\t\t\t\tchecked = false;\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.allChecked = checked;\n\t\t\tthis.total = Number(total.toFixed(2));\n\t\t},\n\t\t//创建订单\n\t\tcreateOrder() {\n\t\t\tlet list = this.cartList;\n\t\t\tlet goodsData = [];\n\t\t\tlist.forEach(item => {\n\t\t\t\tif (item.checked) {\n\t\t\t\t\tgoodsData.push({\n\t\t\t\t\t\tattr_val: item.attr_val,\n\t\t\t\t\t\tnumber: item.number\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages/order/createOrder?data=${JSON.stringify({\n\t\t\t\t\tgoodsData: goodsData\n\t\t\t\t})}`\n\t\t\t})\n\t\t\t// this.$api.msg('跳转下一页 sendData');\n\t\t}\n\t}\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"view\",\n    { staticClass: \"container\" },\n    [\n      _c(\n        \"mescroll-uni\",\n        {\n          attrs: {\n            up: _vm.upOption,\n            eventid: \"70620294-8\",\n            mpcomid: \"70620294-1\"\n          },\n          on: { down: _vm.downCallback, init: _vm.mescrollInit }\n        },\n        [\n          !_vm.hasLogin || _vm.empty === true\n            ? _c(\"view\", { staticClass: \"empty\" }, [\n                _c(\"image\", {\n                  attrs: { src: \"/static/emptyCart.jpg\", mode: \"aspectFit\" }\n                }),\n                _vm.hasLogin\n                  ? _c(\n                      \"view\",\n                      { staticClass: \"empty-tips\" },\n                      [\n                        _vm._v(\"空空如也\"),\n                        _vm.hasLogin\n                          ? _c(\n                              \"navigator\",\n                              {\n                                staticClass: \"navigator\",\n                                attrs: {\n                                  url: \"../index/index\",\n                                  \"open-type\": \"switchTab\"\n                                }\n                              },\n                              [_vm._v(\"随便逛逛>\")]\n                            )\n                          : _vm._e()\n                      ],\n                      1\n                    )\n                  : _c(\"view\", { staticClass: \"empty-tips\" }, [\n                      _vm._v(\"空空如也\"),\n                      _c(\n                        \"view\",\n                        {\n                          staticClass: \"navigator\",\n                          attrs: { eventid: \"70620294-0\" },\n                          on: { click: _vm.navToLogin }\n                        },\n                        [_vm._v(\"去登陆>\")]\n                      )\n                    ])\n              ])\n            : _c(\"view\", [\n                _c(\n                  \"view\",\n                  { staticClass: \"cart-list\" },\n                  _vm._l(_vm.cartList, function(item, index) {\n                    return _c(\"block\", { key: item.id }, [\n                      _c(\n                        \"view\",\n                        {\n                          staticClass: \"cart-item\",\n                          class: { \"b-b\": index !== _vm.cartList.length - 1 }\n                        },\n                        [\n                          _c(\"view\", { staticClass: \"image-wrapper\" }, [\n                            _c(\"image\", {\n                              staticClass: \"loaded\",\n                              attrs: {\n                                src: item.icon,\n                                mode: \"aspectFill\",\n                                \"lazy-load\": \"\",\n                                eventid: \"70620294-1-\" + index\n                              },\n                              on: {\n                                load: function($event) {\n                                  _vm.onImageLoad(\"cartList\", index)\n                                },\n                                error: function($event) {\n                                  _vm.onImageError(\"cartList\", index)\n                                }\n                              }\n                            }),\n                            _c(\"view\", {\n                              staticClass: \"yticon icon-xuanzhong2 checkbox\",\n                              class: { checked: item.checked },\n                              attrs: { eventid: \"70620294-2-\" + index },\n                              on: {\n                                click: function($event) {\n                                  _vm.check(\"item\", index)\n                                }\n                              }\n                            })\n                          ]),\n                          _c(\n                            \"view\",\n                            { staticClass: \"item-right\" },\n                            [\n                              _c(\"text\", { staticClass: \"clamp title\" }, [\n                                _vm._v(_vm._s(item.title))\n                              ]),\n                              _c(\"text\", { staticClass: \"attr\" }, [\n                                _vm._v(_vm._s(item.attr_val))\n                              ]),\n                              _c(\"text\", { staticClass: \"price\" }, [\n                                _vm._v(\"¥\" + _vm._s(item.price))\n                              ]),\n                              _c(\"uni-number-box\", {\n                                staticClass: \"step\",\n                                attrs: {\n                                  min: 1,\n                                  max: item.stock,\n                                  value: item.number,\n                                  isMax:\n                                    item.number >= item.stock ? true : false,\n                                  isMin: item.number === 1,\n                                  index: index,\n                                  eventid: \"70620294-3-\" + index,\n                                  mpcomid: \"70620294-0-\" + index\n                                },\n                                on: { eventChange: _vm.numberChange }\n                              })\n                            ],\n                            1\n                          ),\n                          _c(\"text\", {\n                            staticClass: \"del-btn yticon icon-fork\",\n                            attrs: { eventid: \"70620294-4-\" + index },\n                            on: {\n                              click: function($event) {\n                                _vm.deleteCartItem(index)\n                              }\n                            }\n                          })\n                        ]\n                      )\n                    ])\n                  })\n                ),\n                _c(\n                  \"view\",\n                  { staticClass: \"action-section\" },\n                  [\n                    _c(\"view\", { staticClass: \"checkbox\" }, [\n                      _c(\"image\", {\n                        attrs: {\n                          src: _vm.allChecked\n                            ? \"/static/selected.png\"\n                            : \"/static/select.png\",\n                          mode: \"aspectFit\",\n                          eventid: \"70620294-5\"\n                        },\n                        on: {\n                          click: function($event) {\n                            _vm.check(\"all\")\n                          }\n                        }\n                      }),\n                      _c(\n                        \"view\",\n                        {\n                          staticClass: \"clear-btn\",\n                          class: { show: _vm.allChecked },\n                          attrs: { eventid: \"70620294-6\" },\n                          on: {\n                            click: function($event) {\n                              _vm.clearCart(_vm.cart_ids)\n                            }\n                          }\n                        },\n                        [_vm._v(\"清空\")]\n                      )\n                    ]),\n                    _c(\"view\", { staticClass: \"total-box\" }, [\n                      _c(\"text\", { staticClass: \"price\" }, [\n                        _vm._v(\"¥\" + _vm._s(_vm.total))\n                      ])\n                    ]),\n                    _c(\n                      \"button\",\n                      {\n                        staticClass: \"no-border confirm-btn\",\n                        attrs: { type: \"primary\", eventid: \"70620294-7\" },\n                        on: { click: _vm.createOrder }\n                      },\n                      [_vm._v(\"去结算\")]\n                    )\n                  ],\n                  1\n                )\n              ])\n        ]\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/cart/cart.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./cart.vue?vue&type=template&id=17b55df6&\"\nimport script from \"./cart.vue?vue&type=script&lang=js&\"\nexport * from \"./cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cart.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('17b55df6', component.options)\n    } else {\n      api.reload('17b55df6', component.options)\n    }\n    module.hot.accept(\"./cart.vue?vue&type=template&id=17b55df6&\", function () {\n      api.rerender('17b55df6', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"D:/phpStudy/WWW/fx70999_zy/uni-app/pages/cart/cart.vue\"\nexport default component.exports","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./cart.vue?vue&type=script&lang=js&\"","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./cart.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./cart.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./cart.vue?vue&type=template&id=17b55df6&\""],"sourceRoot":""}