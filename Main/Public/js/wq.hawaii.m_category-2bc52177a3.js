define("wq.hawaii.m_category",function(t,e,i){var a=function(t,e){var i=!t||(new Date).getTime()/1e3>=t,a=!e||(new Date).getTime()/1e3<=e;return i&&a};M.define("BuriedPoint",function(t){var e=function(t){this.init(t)};M.object.merge(e.prototype,{init:function(t){},run:function(){M.require("//wl.jd.com/unify.min.js",function(){try{var t=new MPing.inputs.PV;(new MPing).send(t),MPing.inputs.Click.attachEvent()}catch(t){M.log(d,"error")}})}}),t.clazz=e}),M.define("JaRequire",function(t){var e=function(t){this.init(t)};M.object.merge(e.prototype,{init:function(t){this.pin=t},run:function(){M.require("//misc.360buyimg.com/jdf/1.0.0/unit/ja/1.0.0/ja.js",function(){})}}),t.clazz=e}),M.define("MUUid",function(t){var e=function(t){this.init(t)};M.object.merge(e.prototype,{init:function(t){this.head=t.head,this.version=t.version},run:function(){M.require(this.head+"/js/layout/MIdentification.js?v="+this.version,function(){})}}),t.clazz=e}),M.define("Imglazyload",function(t){var e=function(t){this.init(t)};M.object.merge(e.prototype,{init:function(t){this.scrollId=t&&t.scrollId?t.scrollId:"",this.opacityIn=!(!t||!t.opacityIn),this.baseId="Imglazyload"},lazyLad:function(){for(var t=$(window).height(),e=$("img[imgsrc]"),i=$(window).scrollTop(),a=0,s=e.size();a<s;a++){currentObj=$(e[a]);var o=currentObj.offset().top-t-200;if(parseInt(i)>=parseInt(o)){var n=M.genId(this.baseId);if(currentObj.attr("id",n),this.opacityIn){currentObj.css({opacity:"0.3"});var r=new Image;r.id=n,r.src=currentObj.attr("imgsrc").replace(/http:/g,""),r.onload=function(){$("#"+this.id).attr("src",this.src),$("#"+this.id).removeAttr("imgsrc"),$("#"+this.id).css({opacity:"1","-webkit-transition":"opacity 0.5s ease-in",transition:"opacity 0.5s ease-in"})},r.onerror=function(){$("#"+this.id).removeAttr("imgsrc")}}else currentObj.attr("src",currentObj.attr("imgsrc").replace(/http:/g,"")),currentObj.removeAttr("imgsrc")}}}}),t.clazz=e});M.define("category",function(t){var e=function(t){this.init(t)};M.object.merge(e.prototype,{init:function(t){var e=this;if(this.noUseOldShop=!!t.noUseOldShop,this.imgLazyLad=new(M.exports("Imglazyload").clazz),this.baseId="category",this.imgSrc=t.imgSrc?t.imgSrc:"",this.localStorageKey="categoryDataKey",this.historyStorageKeyHasImg=-1e4,this.claerHistoryBtnId=M.genId(this.baseId),this.isHttps=0==window.location.href.indexOf("https://"),this.rootListUlId=M.genId(this.baseId),this.branchScrollId="branchScroll",this.branchIdList=[],this.rootListDivlId=M.genId(this.baseId),this.loadErrorMainId=M.genId(this.baseId),this.loadErrorId=M.genId(this.baseId),this.rootIdList=[],this.isload=!1,this.showcid=null,this.scrollRootHeight=0,this.scrollBranchHeight=0,this.scrollOverIndex=0,this.pageHeight=0,this.rootCount=0,this.rootTouchObj={startY:0,scrollY:0},this.branchTouchObj={startY:0,scrollY:0},this.basebodyH=0,this.hasHot=!1,this.hashistory=!1,this.categoryFrom=M.url.getParam("searchFrom"),this.commonUsedItemsOptimization=!!t.commonUsedItemsOptimization,this.categoryNewUi=!!t.categoryNewUi,this.openBottomNavigation=!!t.openBottomNavigation,this.categoryFrom?this.originFrom=encodeURIComponent(this.categoryFrom):this.originFrom="null",t.roorList&&(this.catalogUpdateTime=t.roorList.catalogUpdateTime?M.date.toDate(t.roorList.catalogUpdateTime).getTime():null,this.catalogUpdateTimeYMD=t.roorList.catalogUpdateTimeYMD?parseInt(t.roorList.catalogUpdateTimeYMD):null,t.roorList.catelogyList)){var i=M.localstorage.get(this.localStorageKey);if(i){i=JSON.parse(i);var a=[];if(this.getLocalStorageData(this.historyStorageKeyHasImg)&&(this.hashistory=!0),M.object.each(i,function(e,i){for(var s=!1,o=0;o<t.roorList.catelogyList.length;o++)if(-10086!=t.roorList.catelogyList[o].cid&&0!=t.roorList.catelogyList[o].cid.indexOf("WQR")||(this.hasHot=!0),i==t.roorList.catelogyList[o].cid||i==this.historyStorageKeyHasImg||i==this.historyStorageKeyNoImg){s=!0;break}s||a.push(i)},this),a.length>0){for(var s=0;s<a.length;s++)delete i[a[s]];i=JSON.stringify(i),M.localstorage.set(this.localStorageKey,i)}if(!this.hasHot&&this.hashistory){var o=[{cid:-10086,level:0,name:"热门分类"}].concat(t.roorList.catelogyList);t.roorList.catelogyList=o}}this.basebodyH=$("#containerTop").height();var n=document.documentElement.clientHeight;if(e.openBottomNavigation){this.bottombodyH=window.bottombodyH;var r=n-this.basebodyH-this.bottombodyH}else r=n-this.basebodyH;this.rootCount=t.roorList.catelogyList.length;var l=46*this.rootCount;r<l&&(this.scrollRootHeight=l-r,this.scrollOverIndex=parseInt(this.scrollRootHeight/46,10),this.scrollRootHeight%46>0&&this.scrollOverIndex++,this.scrollOverIndex++),this.pageHeight=r,wa("ptagExposure",{ptag:t.roorList.catelogyList[0].ptag}),$("#rootList").html(this.rootHtml(t.roorList.catelogyList)),$("#"+this.rootListUlId).css({transform:"translateY(0px)","-webkit-transform":"translateY(0px)"}),$("#"+this.rootListDivlId).css({height:r});var c=$("body")[0].offsetWidth;if($("#"+this.branchScrollId).css({height:r,width:c-86}),$("#branchList").css({transform:"translateY(0px)","-webkit-transform":"translateY(0px)"}),$("#branchList").after(this.loadErrorHtml()),t.roorList.catelogyList.length>0){var h=t.roorList.catelogyList[0].cid;this.getBranch(h)}}this.catalogWqAbtest=t.catalogWqAbtest,this.wikiAbtest=t.categoryWikiItemsAbtest?t.categoryWikiItemsAbtest:0,this.catalogWqAbtest&&M.require("//wl.jd.com/unify.min.js",function(){try{var t=e.getEndNumFromAbtest(),i=new MPing.inputs.Click("MCategory_Expo"),a=new MPing,s=t<e.catalogWqAbtest?"A":"B";i.event_param=s,a.send(i)}catch(t){M.log(t,"error")}}),$("body").off("event-slide").on("event-slide",function(){var t=function(t){function e(t){this.elem=t,this.oBox=document.querySelector(t),this.aLi=document.querySelectorAll(t+" [data-ul-child=child]"),this.oUl=document.querySelector(t+" [data-slide-ul=firstUl]"),this.now=0,this.on0ff=!1}e.prototype={init:function(t){t=t||{},this.aLi,this.defaults={imgSrc:"_src",startIndex:0,loop:!1,smallBtn:!1,number:!1,laseMoveFn:!1,location:!1,preDef:"lnr",autoPlay:!1,autoHeight:!1,preFn:null,lastImgSlider:!1,playTime:3e3,mpingEvent:null,wareId:null,callback:null,isOpen:!0,verticalCenter:!1,fullScreen:!1,iwNum:358,ihNum:100,iSize:.9,total:0},e.extend(this.defaults,t),this.imgSrc=this.defaults.imgSrc,this.isOpen=this.defaults.isOpen,this.iSize=this.defaults.iSize,this.now=this.defaults.startIndex,this.aLi.length&&(this.initBtn(),this.liInit(),this.bind(),this.aLi.length<2&&(this.defaults.smallBtn&&(this.oSmallBtn.style.display="none"),this.defaults.number&&(this.pageNub.style.display="none"),this.defaults.autoPlay=!1,this.defaults.loop=!1),this.defaults.autoPlay&&(this.pause(),this.play()))},initBtn:function(){this.aLi=document.querySelectorAll(this.elem+" [data-ul-child=child]");var t=this.aLi;if(this.defaults.callback&&this.defaults.callback(1),this.defaults.smallBtn){this.oSmallBtn=document.querySelector(this.elem+' [data-small-btn="smallbtn"]'),this.oSmallBtn.innerHTML=this.addSmallBtn(),this.btns=document.querySelectorAll(this.elem+' [data-ol-btn="btn"]');for(var i=0;i<this.btns.length;i++)this.btns[i].className="";this.btns[e.getNow(this.now,t.length)].className="active"}this.defaults.number&&(this.pageNub=document.getElementById("page-nub"),this.slideNub=document.getElementById("slide-nub"),this.slideSum=document.getElementById("slide-sum"),this.slideNub.innerHTML=(this.now+1)%this.aLi.length,this.slideSum.innerHTML=this.aLi.length),this.defaults.total=this.aLi.length,2!=this.aLi.length&&3!=this.aLi.length||(this.defaults.loop&&(this.oUl.innerHTML+=this.oUl.innerHTML),this.aLi=document.querySelectorAll(this.elem+" [data-ul-child=child]"),this.need=!0)},bind:function(){var t=this.oBox,i=e._device();i.hasTouch||(t.style.cursor="pointer",t.ondragstart=function(t){return!t});var a="onorientationchange"in window?"orientationchange":"resize";if(window.addEventListener(a,this),this.aLi.length<2)return this.defaults.smallBtn&&(this.oSmallBtn.style.display="none"),void(this.defaults.number&&(this.pageNub.style.display="none"));t.addEventListener(i.startEvt,this),window.addEventListener("touchcancel",this),-1!=navigator.userAgent.indexOf("baidubrowser")?(window.addEventListener("focusin",this),window.addEventListener("focusout",this)):(window.addEventListener("blur",this),window.addEventListener("focus",this))},liInit:function(){var t=this.aLi,i=t.length,a=this.aLi[0].offsetWidth,s=this.aLi[0].offsetHeight,o=this.oUl,n=this.oBox.offsetWidth?this.oBox.offsetWidth:document.body.clientWidth-76-14,r=320,l=this.now,c=this,h=$(o).parents(".flsPit");this.defaults.preFn&&this.defaults.preFn(),1==i&&(o.style.margin="0 auto");for(var d=0;d<i;d++)e.setStyle(t[d],{WebkitTransition:"all 0ms ease",transition:"all 0ms ease",height:"auto"});if(this.defaults.fullScreen){if(o.style.width=n*i+"px",this.defaults.autoHeight){for((r=this.oBox.offsetWidth)>=640&&(r=640),d=0;d<i;d++)t[d].style.width=r+"px";var p=t[0].getElementsByTagName("img")[0];if(p){var g=new Image;g.onload=function(){c.oBox.style.height=t[0].offsetHeight+"px",c.oUl.style.height=t[0].offsetHeight+"px",h.css({height:t[0].offsetHeight,overflow:"hidden"}),Math.floor($("#appcenter").height()),c.defaults.verticalCenter&&(c.oBox.style.height.replace("px","")>=document.documentElement.clientHeight?(c.oBox.parentNode.style.top="50px",c.oBox.parentNode.style.marginTop=0):(c.oBox.parentNode.style.top="50%",c.oBox.parentNode.style.marginTop="-50%"));for(var e=0;e<t.length;e++)t[e].style.height=t[0].offsetHeight+"px"},g.src=p.src}else this.oBox.style.height=t[0].offsetHeight+"px"}}else{for((r=this.oBox.offsetWidth)>=640&&(r=640),a=r/375*this.defaults.iwNum,s=r/375*this.defaults.ihNum,d=0;d<i;d++)t[d].style.width=a+"px",t[d].style.height=s+"px";o.style.width=a*i+"px",this.oBox.style.height=s+"px",o.style.height=s+"px",t[0].style.padding="0",n=a}if(this.defaults.loop)for(d=0;d<i;d++)e.setStyle(t[d],{position:"absolute",left:0,top:0}),i>=2&&c.loadImg(t[1]),d==e.getNow(l,i)?(c.loadImg(t[d]),c.liStyle(t[d],0,10)):d==e.getPre(l,i)?c.liStyle(t[d],-n,10):d==e.getNext(l,i)?c.liStyle(t[d],n,10):d==e.getNextNew(l,i)?c.liStyle(t[d],2*n,10):c.liStyle(t[d],-n,9);else for(d=0;d<i;d++)e.setStyle(t[d],{WebkitTransform:"translate3d("+l*-n+"px, 0px, 0px)",transform:"translate3d("+l*-n+"px, 0px, 0px)"})},liStyle:function(t,i,a){var s;s=0==i?1:this.defaults.iSize,this.defaults.fullScreen?e.setStyle(t,{WebkitTransform:"translate3d("+i+"px, 0px, 0px)",transform:"translate3d("+i+"px, 0px, 0px)",zIndex:a}):e.setStyle(t,{WebkitTransform:"translate3d("+i+"px, 0px, 0px) scale("+s+")",transform:"translate3d("+i+"px, 0px, 0px) scale("+s+")",zIndex:a})},handleEvent:function(t){var i=e._device();switch(this.oBox,t.type){case i.startEvt:this.defaults.autoPlay&&this.pause(),this.startHandler(t);break;case i.moveEvt:this.defaults.autoPlay&&this.pause(),this.moveHandler(t);break;case i.endEvt:case"touchcancel":this.defaults.autoPlay&&(this.pause(),this.play()),this.endHandler(t);break;case"orientationchange":case"resize":this.orientationchangeHandler();break;case"focus":this.defaults.autoPlay&&(this.pause(),this.play());break;case"blur":this.defaults.autoPlay&&this.pause();break;case"focusin":this.defaults.autoPlay&&(this.pause(),this.play());break;case"focusout":this.defaults.autoPlay&&this.pause()}},startHandler:function(t){this.on0ff=!0;var i=e._device(),a=i.hasTouch,s=this.oBox,o=this.now,n=this.aLi;s.addEventListener(i.moveEvt,this),s.addEventListener(i.endEvt,this),this.downTime=Date.now(),this.downX=a?t.targetTouches[0].pageX:t.clientX-s.offsetLeft,this.downY=a?t.targetTouches[0].pageY:t.clientY-s.offsetTop,this.startT=e.getTranX(n[e.getNow(o,n.length)]),this.startNowT=e.getTranX(n[e.getNow(o,n.length)]),this.startPreT=e.getTranX(n[e.getPre(o,n.length)]),this.startNextT=e.getTranX(n[e.getNext(o,n.length)]),this.startNextN=e.getTranX(n[e.getNextNew(o,n.length)]),e.stopPropagation(t)},moveHandler:function(t){var i=this.oBox,a=e._device();if(this.on0ff){var s=a.hasTouch,o=s?t.targetTouches[0].pageX:t.clientX-i.offsetLeft,n=s?t.targetTouches[0].pageY:t.clientY-i.offsetTop,r=this.aLi,l=r.length,c=this.now,h=r[0].offsetWidth;"all"==this.defaults.preDef&&e.stopDefault(t);for(var d=0;d<l;d++)e.setStyle(r[d],{WebkitTransition:"all 0ms ease",transition:"all 0ms ease"});if(Math.abs(o-this.downX)<Math.abs(n-this.downY))"tnd"==this.defaults.preDef&&"all"!=this.defaults.preDef&&e.stopDefault(t);else if(Math.abs(o-this.downX)>10)if("lnr"==this.defaults.preDef&&"all"!=this.defaults.preDef&&e.stopDefault(t),this.defaults.loop){f=(this.startNowT+o-this.downX).toFixed(4);var p=(this.startPreT+o-this.downX).toFixed(4),g=(this.startNextT+o-this.downX).toFixed(4),u=(this.startNextN+o-this.downX).toFixed(4);e.move(r[e.getNow(c,l)],f,10,this.defaults.fullScreen),e.move(r[e.getPre(c,l)],p,10,this.defaults.fullScreen),e.move(r[e.getNext(c,l)],g,10,this.defaults.fullScreen),e.move(r[e.getNextNew(c,l)],u,10,this.defaults.fullScreen)}else{var f=e.getTranX(r[c]);if(f>0){var m=((this.startT+o-this.downX)/3).toFixed(4);for(d=0;d<l;d++)e.move(r[d],m,10,this.defaults.fullScreen)}else if(Math.abs(f)>=Math.abs((l-1)*h)){for(m=(this.startT+(o-this.downX)/3).toFixed(4),d=0;d<l;d++)e.move(r[d],m,10,this.defaults.fullScreen);if(this.defaults.laseMoveFn&&"function"==typeof this.defaults.laseMoveFn){var v=(m-this.startT).toFixed(4);this.defaults.laseMoveFn(v)}}else for(m=(this.startT+o-this.downX).toFixed(4),d=0;d<l;d++)e.move(r[d],m,10,this.defaults.fullScreen)}}else i.removeEventListener(a.moveEvt,this),i.removeEventListener(a.endEvt,this);e.stopPropagation(t)},endHandler:function(t){t.stopPropagation(),this.on0ff=!1;var i=Date.now(),a=e._device(),s=a.hasTouch,o=this.oBox,n=s?t.changedTouches[0].pageX:t.clientX-o.offsetLeft,r=s?t.changedTouches[0].pageY:t.clientY-o.offsetTop,l=this.aLi,c=l[0].offsetWidth,h=e.getTranX(l[e.getNow(this.now,l.length)]);return n-this.downX<30&&n-this.downX>=0&&Math.abs(r-this.downY)<30?(this.tab(h,"+="),"click"):n-this.downX>-30&&n-this.downX<=0&&Math.abs(r-this.downY)<30?(this.tab(h,"-="),"click"):Math.abs(r-this.downY)-Math.abs(n-this.downX)>30&&n-this.downX<0?void this.tab(h,"-="):Math.abs(r-this.downY)-Math.abs(n-this.downX)>30&&n-this.downX>0?void this.tab(h,"+="):n<this.downX?this.downX-n>c/3||i-this.downTime<200?(this.now++,this.tab(h,"++"),"left"):(this.tab(h,"+="),"stay"):n-this.downX>c/3||i-this.downTime<200?(this.now--,this.tab(h,"--"),"right"):(this.tab(h,"-="),"stay")},limoveEnd:function(t,i,a,s){var o;o=0==i?1:this.defaults.iSize,this.defaults.fullScreen?e.setStyle(t,{WebkitTransform:"translate3d("+i+"px, 0px, 0px)",transform:"translate3d("+i+"px, 0px, 0px)",zIndex:a,WebkitTransition:"all "+s+"ms ease",transition:"all "+s+"ms ease"}):e.setStyle(t,{WebkitTransform:"translate3d("+i+"px, 0px, 0px) scale("+o+")",transform:"translate3d("+i+"px, 0px, 0px) scale("+o+")",zIndex:a,WebkitTransition:"all "+s+"ms ease",transition:"all "+s+"ms ease"})},tab:function(t,i,a){var s=this.aLi,o=s.length,n=s[0].offsetWidth,r=(this.oBox,e._device(),this),l=this.now;if(!this.defaults.callback||"++"!=i&&"--"!=i||this.defaults.callback((e.getNow(l,o)+1)%this.defaults.total==0?this.defaults.total:(e.getNow(l,o)+1)%this.defaults.total),this.defaults.loop){l<0&&(l=o-1,this.now=o-1);for(var c=0;c<o;c++)if(c==e.getPre(l,o)){switch(i){case"++":h=300;break;case"--":case"+=":h=0;break;case"-=":h=300}r.limoveEnd(s[e.getPre(l,o)],-n,10,h)}else if(c==e.getNow(l,o)){var h=300;r.limoveEnd(s[e.getNow(l,o)],0,10,h)}else if(c==e.getNext(l,o))h=300,r.limoveEnd(s[e.getNext(l,o)],n,10,h);else if(c==e.getNextNew(l,o)){switch(i){case"++":h=0;break;case"--":case"+=":h=300;break;case"-=":h=0}r.limoveEnd(s[e.getNextNew(l,o)],2*n,10,h)}else r.limoveEnd(s[c],2*n,9,h)}else{for(c=0;c<o;c++)e.setStyle(s[c],{WebkitTransition:"all 300ms ease",transition:"all 300ms ease"});l<=0&&(l=0,this.now=0),l>o-1&&(a?(l=0,this.now=0):(l=o-1,this.now=o-1));for(var d=0;d<o;d++)e.setStyle(s[d],{WebkitTransform:"translate3d("+-l*n+"px, 0px, 0px)",transform:"translate3d("+-l*n+"px, 0px, 0px)"})}if($(s[e.getNow(l,o)]).addClass("active").siblings().removeClass("active"),r.loadImg(s[e.getNow(l,o)]),r.loadImg(s[e.getNow(l+1,o)]),this.defaults.smallBtn){for(c=0;c<this.btns.length;c++)this.btns[c].className="";this.need?this.btns[e.getNow(l,o/2)].className="active":this.btns[e.getNow(l,o)].className="active"}this.defaults.number&&(this.slideNub.innerHTML=(e.getNow(l,o)+1)%this.defaults.total==0?this.defaults.total:(e.getNow(l,o)+1)%this.defaults.total),s[e.getNow(l,o)].addEventListener("webkitTransitionEnd",p,!1),s[e.getNow(l,o)].addEventListener("transitionend",p,!1);function p(){r.defaults.location&&t<-(o-1)*n-n/5&&r.defaults.lastImgSlider&&"function"==typeof r.defaults.lastImgSlider&&(r.defaults.laseMoveFn(0),r.defaults.lastImgSlider()),s[e.getNow(r.now,o)].removeEventListener("webkitTransitionEnd",p,!1),s[e.getNow(r.now,o)].removeEventListener("transitionend",p,!1)}},play:function(){var t=this;this.aLi.length>1&&(t.timer=setInterval(function(){t.now++,t.tab(null,"++",!0)},this.defaults.playTime))},pause:function(){clearInterval(this.timer)},orientationchangeHandler:function(){var t=this;setTimeout(function(){t.liInit()},300)},addSmallBtn:function(){for(var t="",e=this.aLi,i=0;i<e.length;i++)i==this.defaults.startIndex?t+='<span class="active" data-ol-btn="btn"></span>':t+='<span data-ol-btn="btn"></span>';return t},checkIphone:function(){var t=window.navigator.userAgent.toLowerCase();return!!/iphone|ipd|ipod/.test(t)},setImgURL:function(t){var e=t[0].getAttribute(""+this.imgSrc),i=t[0].getAttribute("src"),a="";if(e&&""!=i)a=e.replace(/http:/g,"");else{var s=t[0].outerHTML;console.log("Opps!Something Wrong!Please notice it!--:"+s)}var o=2*parseInt(t.width()),n=2*parseInt(t.height());return o<2||n<2||!a?a:((a=a.replace(/(s[0-9]{0,4}x[0-9]{0,4}_)?jfs/,"s"+o+"x"+n+"_jfs"))&&-1==a.indexOf(".webp")&&!this.checkIphone()&&(a+=".webp"),a)},changSrc:function(t){if("none"!=$("#scwrapper").css("display")){var e=this,i=t.attr(""+e.imgSrc),a=new Image,s=i;e.isOpen&&i&&(s=e.setImgURL(t)),t.css("opacity",0),a.src=s,a.onload=function(){t.attr("src",s).removeAttr(""+e.imgSrc).css("opacity",1)},a.onerror=function(){t.attr("src",i).removeAttr(""+e.imgSrc).css("opacity",1)}}},loadImg:function(t){var e=$(t).find("img");$(t).find("img").attr(""+this.imgSrc)&&this.changSrc(e)},show:function(){this.oBox.style.display="inline-block"},hide:function(){this.oBox.style.display="none"}},e.extend=function(t,e){for(name in e)void 0!==e[name]&&(t[name]=e[name])},e.extend(e,{setStyle:function(t,e){for(name in e)t.style[name]=e[name]},getTranX:function(t){var e=t.style.WebkitTransform||t.style.transform,i=e.indexOf("translate3d(");return parseInt(e.substring(i+12,e.length-13))},_device:function(){return{hasTouch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),startEvt:"touchstart",moveEvt:"touchmove",endEvt:"touchend"}},getNow:function(t,e){return t%e},getPre:function(t,e){if(t%e-1<0)var i=e-1;else i=t%e-1;return i},getNext:function(t,e){return(t+1)%e},getNextNew:function(t,e){return(t+2)%e},move:function(t,i,a,s){var o=a||null;if(o&&(t.style.zIndex=o),e.setStyle(t,{WebkitTransform:"translate3d("+i+"px, 0px, 0px)",transform:"translate3d("+i+"px, 0px, 0px)"}),!s){var n=parseFloat(i)/100;n>.9?n=.9:-.9<n<0?n=-n:n<=-.9&&(n=.9)}},stopDefault:function(t){return t&&t.preventDefault?t.preventDefault():window.event.returnValue=!1,!1},stopPropagation:function(t){t&&t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}});return new e(t)}(".jd-category-third-promotion");t.init({loop:!0,fullScreen:!0,smallBtn:!0}),t.play()})},getEndNumFromAbtest:function(){var t=this;if(!t.cookieabtest&&(t.cookieabtest=M.cookie.getCookie("abtest"),t.cookieabtest&&t.cookieabtest.length>0)){var e=t.cookieabtest.split("_");if(e.length>1&&(t.cookieabtest=e[1],t.cookieabtest.length>=1))try{t.cookieabtest=parseInt(t.cookieabtest,10)}catch(e){t.cookieabtest=1e3}}return t.cookieabtest},rootHtml:function(t){var e=[];e.push('<div style="overflow:hidden;" id="'+this.rootListDivlId+'">'),e.push('<ul style="" id="'+this.rootListUlId+'">');for(var i=0;i<t.length;i++){var a=M.genId(this.baseId),s=t[i].cid;if(this.rootIdList.push(a),"string"==typeof s&&s.toLowerCase().indexOf("wqr")>-1)var o=s.substring(3);else if("string"==typeof s&&s.toLowerCase().indexOf("wq")>-1)o=s.substring(2);var n=o+"_"+this.originFrom;e.push("<li "+(0==i?'class="cur"':"")+' m_index="'+(i+1)+'" m_cid="'+t[i].cid+'" id="'+a+'" commonUsed="'+!!t[i].commonUsed+'"><a class="J_ping" report-eventparam="'+n+'" report-eventid="MCategory_1st" report-eventlevel="2" ptag="'+t[i].ptag+'" href="javascript:void(0);">'+t[i].name+"</a></li>")}return e.push("</ul>"),e.push("</div>"),e.join("")},branchHtml:function(t,e){var i=this,a=[],s=e.data,o=e.jshopUrl,n=-10086==t||0==t.indexOf("WQR")?"MCategory_Recommend":"MCategory_3rd";if(i.branchIdList=[],"string"==typeof t&&t.toLowerCase().indexOf("wqr")>-1)var r=t.substring(3);else if("string"==typeof t&&t.toLowerCase().indexOf("wq")>-1)r=t.substring(2);if(o&&o.cmsPromotionsList&&o.cmsPromotionsList.length>0&&o.cmsPromotionsList[0].imageUrl){var l=o.mPageAddress?o.mPageAddress:"";if(l=o.cmsPromotionsList[0].mPageAddress?o.cmsPromotionsList[0].mPageAddress:l,i.noUseOldShop){if(l.indexOf("ok.jd.com/m/")>=0){var c=l.replace("ok.jd.com/m/index-","").replace("http://","").replace("https://","");l="http://shop.m.jd.com/?shopId="+(c=parseInt(c,10))}}else if(l.indexOf("shop.m.jd.com/")>=0){c=l.replace("shop.m.jd.com/?shopId=","").replace("http://","").replace("https://","");l="http://ok.jd.com/m/index-"+(c=parseInt(c,10))+"v"}if(l){if("[object Array]"==Object.prototype.toString.call(o.cmsPromotionsList))for(var h=[],d=0;d<o.cmsPromotionsList.length;d++)h.push(o.cmsPromotionsList[d].imageUrl);else h=o.cmsPromotionsList[0].imageUrl;if("[object Array]"==Object.prototype.toString.call(h)?h.forEach(function(t){i.isHttps&&t.replace("http://","https://")}):i.isHttps&&h.replace("http://","https://"),a.push('<div class="jd-category-third-promotion"><ul data-slide-ul="firstUl">'),"[object Array]"==Object.prototype.toString.call(l))for(d=0;d<l.length;d++)a.push('<li data-ul-child="child"><a class="J_ping" report-eventparam="'+i.originFrom+"_"+r+'" report-eventid="MCategory_Banner" report-eventlevel="2" href='+l[d]+" ><img src="+h[d]+"></a></li>");else a.push('<li data-ul-child="child"><a class="J_ping" report-eventparam="'+i.originFrom+"_"+r+'" report-eventid="MCategory_Banner" report-eventlevel="2" href='+l+" ><img src="+h+"></a></li>");if(a.push("</ul>"),"[object Array]"==Object.prototype.toString.call(l)?a.push("<img src="+h[0]+' style="opacity: 0;">'):a.push("<img src="+h+' style="opacity: 0;">'),a.push('<div class="focus-btn" data-small-btn="smallbtn">'),"[object Array]"==Object.prototype.toString.call(l))for(var p=0;p<l.length;p++)a.push('<span class="active" data-ol-btn="btn"></span>');a.push("</div>"),a.push("</div>")}}if((-10086==t||0==t.indexOf("WQR"))&&i.commonUsedItemsOptimization){var g=[];s[1].name&&"专场推荐"==s[1].name&&(g=s[0],s[0]=s[1],s[1]=g)}if(s.length>0)for(d=0;d<s.length;d++){var u=[];d<s.length-1&&s[d].name==s[d+1].name?(u.push(d),u.push(d+1),d++):u.push(d);for(var f=0;f<u.length;f++){var m=s[u[f]],v=[],y=[];if(m&&m.catelogyList&&m.catelogyList.length>0){var b=1;if(m.columNum&&(1==m.columNum?b=3:3==m.columNum&&(b=1)),1==b){for(p=0;p<m.catelogyList.length;p++)m.catelogyList[p].icon&&""!=m.catelogyList[p].icon?v.push(p):y.push(p);b=m.catelogyList.length==y.length?2:"推荐品牌"==m.name?4:1}if(0==f){var w=m.cid?m.cid:"null";if(a.push('<div class="jd-category-div cur">'),-10086!=t&&0!=t.indexOf("WQR")||"浏览足迹"!=m.name)if("最近浏览"==m.name)a.push('<a id="'+i.claerHistoryBtnId+'" class="delete-box"><i></i><span>清空</span></a>');else if(-10086!=t&&0!=t.indexOf("WQR")||"热门分类"!=m.name){if(m.wiki&&i.getEndNumFromAbtest()<this.wikiAbtest){L=r+"_"+w;a.push("<a href="+m.wiki.url+' class="wiki-box J_ping" report-eventid="MList_Encyclopedia" report-eventparam="'+L+'"><i class="wiki-icon"></i><i class="wiki-logo"></i><i class="wiki-right-arrow"></i></a>')}}else{var L=r+"_"+w+"_"+this.originFrom;a.push('<a href="http://coupon.m.jd.com/ranklist/hotSaleRankList.action?ptag=137886.4.1" class="rank-box J_ping" report-eventid="MFilter_RankingList" report-eventparam="'+L+'" report-eventlevel="2"><i class="rank-icon"></i><span>排行榜</span><i class="right-arrow"></i></a>')}else a.push('<a id="'+i.claerHistoryBtnId+'" class="delete-box"><i></i><span>清空</span></a>');a.push("<h4>"+m.name+"</h4>")}a.push('<ul class="jd-category-style-'+b+'">');for(p=0;p<v.length;p++){var x=M.genId("branch_");i.branchIdList.push(x);l=null;if(m.catelogyList[v[p]].path){if(3!=(S=m.catelogyList[v[p]].path.split("_")).length)continue;l="/products/"+S[0]+"-"+S[1]+"-"+S[2]+".html?searchFrom=category"}else l=m.catelogyList[v[p]].searchKey?"/ware/search.action?keyword="+encodeURIComponent(m.catelogyList[v[p]].searchKey)+"&searchFrom=category":"/ware/search.action?keyword="+encodeURIComponent(m.catelogyList[v[p]].name)+"&searchFrom=category";if(-1==(l=m.catelogyList[v[p]].action?m.catelogyList[v[p]].action:l).indexOf("?")?l+="?searchFrom=category":-1==l.indexOf("searchFrom")&&(l+="&searchFrom=category"),i.noUseOldShop){if(l.indexOf("ok.jd.com/m/")>=0){c=l.replace("ok.jd.com/m/index-","").replace("http://","").replace("https://","");l="http://shop.m.jd.com/?shopId="+(c=parseInt(c,10))}}else if(l.indexOf("shop.m.jd.com/")>=0){c=l.replace("shop.m.jd.com/?shopId=","").replace("http://","").replace("https://","");l="http://ok.jd.com/m/index-"+(c=parseInt(c,10))+"v"}encodeURIComponent(l),L=(T=m.catelogyList[v[p]].cid?m.catelogyList[v[p]].cid:"null")+"_"+r+"_"+(s[d].cid?s[d].cid:"null")+"_"+i.originFrom;if("浏览足迹"==m.name||"最近浏览"==m.name){L=T+"_"+r+"_-10000_"+i.originFrom;a.push('<li><a class="J_ping" report-eventparam="'+L+'" report-eventid="'+(m.RealtimeRecom?"MList_RealtimeRecom":"MFilter_UsualThird")+'" report-eventlevel="2" id="'+x+'" href="'+l+'">')}else m.name.indexOf("专场")>=0&&(-10086==t||0==t.indexOf("WQR"))?a.push('<li><a class="J_ping" report-eventparam="'+L+'" report-eventid="MFilter_SpecialThird" report-eventlevel="2" id="'+x+'" href="'+l+'">'):"热门分类"==m.name?a.push('<li><a class="J_ping" report-eventparam="'+L+'" report-eventid="MFilter_PopularThird" report-eventlevel="2" id="'+x+'" href="'+l+'">'):a.push('<li><a class="J_ping" report-eventparam="'+L+'" report-eventid="'+n+'" report-eventlevel="2" id="'+x+'" href="'+l+'">');if(1==b||4==b){var I=i.isHttps?m.catelogyList[v[p]].icon.replace("http://","https://"):m.catelogyList[v[p]].icon;a.push('<img src="'+i.imgSrc+'/images/category/categorydef.png" imgsrc="'+I+'">')}i.categoryNewUi&&4==b?a.push('<span style="display:none;">'+m.catelogyList[v[p]].name+"</span>"):a.push("<span>"+m.catelogyList[v[p]].name+"</span>"),a.push("</a></li>")}if(y.length>0){2!=b&&(a.push('<div style="clear:both"></div>'),a.push('<ul class="text-ul-border">'));for(p=0;p<y.length;p++){x=M.genId("branch_");i.branchIdList.push(x);l=null;if(m.catelogyList[y[p]].path){var S;if(3!=(S=m.catelogyList[y[p]].path.split("_")).length)continue;l="/products/"+S[0]+"-"+S[1]+"-"+S[2]+".html?searchFrom=category"}else l=m.catelogyList[y[p]].searchKey?"/ware/search.action?keyword="+encodeURIComponent(m.catelogyList[y[p]].searchKey)+"&searchFrom=category":"/ware/search.action?keyword="+encodeURIComponent(m.catelogyList[y[p]].name)+"&searchFrom=category";if(-1==(l=m.catelogyList[y[p]].action?m.catelogyList[y[p]].action:l).indexOf("?")?l+="?searchFrom=category":-1==l.indexOf("searchFrom")&&(l+="&searchFrom=category"),i.noUseOldShop){if(l.indexOf("ok.jd.com/m/")>=0){c=l.replace("ok.jd.com/m/index-","").replace("http://","").replace("https://","");l="http://shop.m.jd.com/?shopId="+(c=parseInt(c,10))}}else if(l.indexOf("shop.m.jd.com/")>=0){c=l.replace("shop.m.jd.com/?shopId=","").replace("http://","").replace("https://","");l="http://ok.jd.com/m/index-"+(c=parseInt(c,10))+"v"}var T;encodeURIComponent(l),L=(T=m.catelogyList[y[p]].cid?m.catelogyList[y[p]].cid:"null")+"_"+r+"_"+(s[d].cid?s[d].cid:"null")+"_"+i.originFrom;if("浏览足迹"==m.name||"最近浏览"==m.name){L=T+"_"+r+"_-10000_"+i.originFrom;a.push('<li><a class="J_ping" report-eventparam="'+L+'" report-eventid="'+(m.RealtimeRecom?"MList_RealtimeRecom":"MFilter_UsualThird")+'" report-eventlevel="2" id="'+x+'" href="'+l+'">')}else m.name.indexOf("专场")>=0&&(-10086==t||0==t.indexOf("WQR"))?a.push('<li><a class="J_ping" report-eventparam="'+L+'" report-eventid="MFilter_SpecialThird" report-eventlevel="2" id="'+x+'" href="'+l+'">'):"热门分类"==m.name?a.push('<li><a class="J_ping" report-eventparam="'+L+'" report-eventid="MFilter_PopularThird" report-eventlevel="2" id="'+x+'" href="'+l+'">'):a.push('<li><a class="J_ping" report-eventparam="'+L+'" report-eventid="'+n+'" report-eventlevel="2" id="'+x+'" href="'+l+'">');a.push("<span>"+m.catelogyList[y[p]].name+"</span>"),a.push("</a></li>")}2!=b&&(a.push('<div style="clear:both"></div>'),a.push("</ul>"))}a.push('<div style="clear:both"></div>'),a.push("</ul>"),f==u.length-1&&a.push("</div>")}}}return a.join("")},branchIdListUnBind:function(){for(var t=0;t<this.branchIdList.length;t++)$("#"+this.branchIdList[t]).off()},branchIdListBind:function(){for(var t=this,e=0;e<t.branchIdList.length;e++)$("#"+t.branchIdList[e]).on("click",function(e){var i={name:$(this).find("span").eq(0).text(),action:$(this).attr("href"),icon:$(this).find("img").eq(0).attr("src"),cid:$(this).attr("report-eventparam").split("_")[0]},a=null,s=null;s=t.historyStorageKeyHasImg;var o=[i];if((a=t.getLocalStorageData(t.historyStorageKeyHasImg))&&a.data&&a.data.data&&a.data.data[0].catelogyList)for(var n=0;n<a.data.data[0].catelogyList.length&&6!=o.length;n++)a.data.data[0].catelogyList[n].name!=i.name&&o.push(a.data.data[0].catelogyList[n]),0;i={data:[{catelogyList:o,name:"浏览足迹"}]};t.setLocalStorageData(s,i);var r=$("#rootList").find("ul").find("li.cur").attr("m_cid");if("true"==$("#rootList").find("ul").find("li.cur").attr("commonused")){var l={catelogyList:[{name:$(this).find("span").eq(0).text(),action:$(this).attr("href"),icon:$(this).find("img").eq(0).attr("src"),cid:$(this).attr("report-eventparam").split("_")[0]}],name:"最近浏览",RealtimeRecom:!0},c=t.getLocalStorageData(r),h=[l];if(-10086!=r&&r.indexOf("WQR")<0&&c&&c.data&&c.data.data&&c.data.data[0].catelogyList)if("最近浏览"==c.data.data[0].name){for(var d=0;d<c.data.data[0].catelogyList.length&&6!=h[0].catelogyList.length;d++){for(var p=!1,g=0;g<h[0].catelogyList.length&&c.data.data[0].catelogyList[d].name!=h[0].catelogyList[0].name;g++)p=!0;p&&h[0].catelogyList.push(c.data.data[0].catelogyList[d])}c.data.data[0]=h[0],t.setLocalStorageData(r,c.data)}else{for(var u=0;u<c.data.data.length;u++)h.push(c.data.data[u]);c.data.data=h,t.setLocalStorageData(r,c.data)}}})},loadErrorHtml:function(){var t=[];return t.push('<div id="'+this.loadErrorMainId+'" class="jd-category-loadfail" style="display:none;">'),t.push('<div class="loadfail-content">'),t.push('<div class="failing"></div>'),t.push("<span>加载失败</span>"),t.push('<a href="javascript:void(0);" id="'+this.loadErrorId+'" class="btn-loadfail"></a>'),t.push("</div>"),t.push("</div>"),t.join("")},getBranch:function(t,e){return this.loadBranch(t)},getlYearMonthDate:function(t){var e;e=t?new Date((new Date).getTime()+864e5*t):new Date;var i=String(e.getFullYear()),a=String(e.getMonth()+1),s=String(e.getDate());return a<10&&(a="0"+a),s<10&&(s="0"+s),parseInt(i+a+s)},loadBranch:function(t){var e=this;e.isload=!0,$("#pageLoading").css("display","block");for(var i=window.bigpipe.componentData.m1.data.json,o=window.bigpipe.componentData.m1.data.focusData,n=i.keywordAreas,r=0;r<n.length;r++){var l=n[r];if((1==l.pattern||a(l.patternStartTime,l.patternEndTime))&&-1!==t.indexOf(l.areaId)){var c=[];l.level1words.forEach(function(t){var e=[];if(1!=t.pattern&&!a(t.patternStartTime,t.patternEndTime))return!1;t.level2words.forEach(function(t){if(1!=t.pattern&&!a(t.patternStartTime,t.patternEndTime))return!1;e.push({action:t.url,cid:t.keywordId,icon:t.imageUrl.replace(/\/jfs\//,"/s140x140_jfs/"),level:2,name:t.keyword})});var i;s[t.keywordId]&&(i=s[t.keywordId]),c.push({wiki:i,cid:t.keywordId,level:1,name:t.keyword,catelogyList:e})});var h;if(o&&o.list)for(r=0;r<o.list.length;r++){var d=o.list[r];if(d.groupid==l.extInfo1){var p=[];h={cmsPromotionsList:[],mPageAddress:void 0};for(var g=0;g<d.locations.length;g++){var u=d.locations[g];if(u.plans&&u.plans.length>0){var f=u.plans[0];h.mPageAddress=f.materiallink;for(var m=0;m<u.plans.length;m++){f=u.plans[m];h.cmsPromotionsList.push({imageUrl:f.material}),p.push(f.materiallink)}}}0!==p.length&&(h.mPageAddress=p);break}}v({data:c,jshopUrl:h});break}}function v(i){i?(e.setLocalStorageData(t,i),$("#"+e.loadErrorMainId).css("display","none"),$("#branchList").css("display","block"),$("#pageLoading").css("display","none"),$("#branchList").fadeToggle(200,function(){$("#branchList").css({transform:"translateY(0px)","-webkit-transform":"translateY(0px)"}),-10086!=t&&0!=t.indexOf("WQR")||e.mergeHistory(i),e.branchIdListUnBind(),$("#branchList").html(e.branchHtml(t,i)),$("body").trigger("event-slide"),e.bindclaerBtn(),e.branchIdListBind(),e.branchTouchUnBind(),$("#branchList").fadeToggle(200,function(){$("#branchList").css("opacity",null),e.imgLazyLad.lazyLad(),e.isload=!1,e.scrollBranchHeight=$("#branchList").height()-e.pageHeight,e.branchTouchBind()})})):(e.isload=!1,$("#pageLoading").css("display","none"))}},_loadBranch:function(t){var e=this;e.isload=!0,$("#pageLoading").css("display","block");"-10086"==t||t.indexOf("WQR"),M.http.ajax({type:"get",url:"/category/list.action",data:"_format_=json&catelogyId="+t,success:function(i){var a=null;i&&i.catalogBranch&&((a=JSON.parse(i.catalogBranch)).data?e.setLocalStorageData(t,a):a=null),a?($("#"+e.loadErrorMainId).css("display","none"),$("#branchList").css("display","block"),$("#pageLoading").css("display","none"),$("#branchList").fadeToggle(200,function(){$("#branchList").css({transform:"translateY(0px)","-webkit-transform":"translateY(0px)"}),-10086!=t&&0!=t.indexOf("WQR")||e.mergeHistory(a),e.branchIdListUnBind(),$("#branchList").html(e.branchHtml(t,a)),$("body").trigger("event-slide"),e.bindclaerBtn(),e.branchIdListBind(),e.branchTouchUnBind(),$("#branchList").fadeToggle(200,function(){$("#branchList").css("opacity",null),e.imgLazyLad.lazyLad(),e.isload=!1,e.scrollBranchHeight=$("#branchList").height()-e.pageHeight,e.branchTouchBind()})})):(e.isload=!1,$("#pageLoading").css("display","none"))},error:function(){$("#pageLoading").css("display","none"),$("#branchList").css("display","none"),$("#"+e.loadErrorMainId).css("display","block"),e.isload=!1,$("#"+e.loadErrorId).attr("m_cid",e.showcid),e.showcid=null}})},bindclaerBtn:function(){var t=this;$("#"+t.claerHistoryBtnId).on("click",function(){$(this);if(t.sendMping("MFilter_Clear"),confirm("确认要清空浏览足迹吗？")){var e=$("#rootList").find("ul").find("li.cur").attr("m_cid");if(-10086==e||0==e.indexOf("WQR")){t.claerHistory();for(var i=$("#branchList").children(),a=0;a<i.length;a++){if("浏览足迹"==$(i[a]).find("h4").text()){$(i[a]).remove();break}}}else{t.claerHistoryRootList(e);for(i=$("#branchList").children(),a=0;a<i.length;a++){if("最近浏览"==$(i[a]).find("h4").text()){$(i[a]).remove();break}}}t.sendMping("MFilter_ClearConfirm")}else t.sendMping("MFilter_ClearCancel")})},sendMping:function(t,e){if(t)try{var i=new MPing.inputs.Click(t);e&&(i=M.object.merge(i,e));(new MPing).send(i)}catch(t){}},claerHistory:function(){this.removeLocalStorageData(this.historyStorageKeyHasImg)},claerHistoryRootList:function(t){this.removeLocalStorageData(t)},mergeHistory:function(t){var e=this.getLocalStorageData(this.historyStorageKeyHasImg);if(e)if(t){var i=t.data;e&&(t.data=[e.data.data[0]]),t.data=t.data.concat(i)}else t=e},removeLocalStorageData:function(t){var e=M.localstorage.get(this.localStorageKey);e&&(e=JSON.parse(e))[t]&&(delete e[t],e=JSON.stringify(e),M.localstorage.set(this.localStorageKey,e))},setLocalStorageData:function(t,e){var i=M.localstorage.get(this.localStorageKey);i=i?JSON.parse(i):{};var a={data:e,updateTime:this.getlYearMonthDate()};i[t]=a,i=JSON.stringify(i),M.localstorage.set(this.localStorageKey,i)},getLocalStorageData:function(t){var e=null,i=M.localstorage.get(this.localStorageKey);return i&&(i=JSON.parse(i))[t]&&(e=i[t]),e},scrollTo:function(t){var e=this,i=0,a={transform:"translateY("+(i=t<e.scrollOverIndex?46*(t-1)*-1:-1*e.scrollRootHeight)+"px)","-webkit-transform":"translateY("+i+"px)","-webkit-transition":"0.2s ease 0s",transition:"0.2s ease 0s"};$("#"+e.rootListUlId).css(a),setTimeout(function(){var t={transform:"translateY("+i+"px)","-webkit-transform":"translateY("+i+"px)","-webkit-transition":"",transition:""};$("#"+e.rootListUlId).css(t)},200)},rootTouchBind:function(){var t=this;$("#"+t.rootListUlId).on("touchstart",function(e){t.rootTouchObj.startY=e.touches[0].clientY,t.rootTouchObj.scrollY=0}),$("#"+t.rootListUlId).on("touchmove",function(e){e.preventDefault();e.touches;var i=e.touches[0].clientY,a=i-t.rootTouchObj.startY,s=0;(s=t.getY(t.rootListUlId)+a)>150?s=150:s<-1*t.scrollRootHeight-150&&(s=-1*t.scrollRootHeight-150),$("#"+t.rootListUlId).css("transform","translateY("+s+"px)"),$("#"+t.rootListUlId).css("-webkit-transform","translateY("+s+"px)"),t.rootTouchObj.scrollY=i-t.rootTouchObj.startY,t.rootTouchObj.startY=i}),$("#"+t.rootListUlId).on("touchend",function(e){t.touchScroll(t.rootTouchObj.scrollY,t.rootListUlId,t.scrollRootHeight)})},branchTouchBind:function(){var t=this;$("#branchList").on("touchstart",function(e){t.branchTouchObj.startY=e.touches[0].clientY,t.branchTouchObj.scrollY=0}),$("#branchList").on("touchmove",function(e){if(e.preventDefault(),t.scrollBranchHeight>0){e.touches;t.scrollBranchHeight=$("#branchList").height()-t.pageHeight;var i=e.touches[0].clientY,a=i-t.branchTouchObj.startY,s=0;(s=t.getY("branchList")+a)>150?s=150:s<-1*t.scrollBranchHeight-150&&(s=-1*t.scrollBranchHeight-150),$("#branchList").css("transform","translateY("+s+"px)"),$("#branchList").css("-webkit-transform","translateY("+s+"px)"),t.imgLazyLad.lazyLad(),t.branchTouchObj.scrollY=i-t.branchTouchObj.startY,t.branchTouchObj.startY=i}}),$("#branchList").on("touchend",function(e){t.touchScroll(t.branchTouchObj.scrollY,"branchList",t.scrollBranchHeight,!0)})},branchTouchUnBind:function(){$("#branchList").off()},touchScroll:function(t,e,i,a){var s=this,o=Math.abs(t),n=0;if((n=o>=40?15:o<40&&o>=25?10:o<25&&o>=10?5:0)>0)t<0&&(n*=-1),setTimeout(function(){s.touchScrollRun(n,e,0,i,a)},2);else{var r=0;r=s.getY(e),s.goToEnd(r,e,i)}},touchScrollRun:function(t,e,i,a,s){var o=this,n=i+1;if(s&&o.imgLazyLad.lazyLad(),i<40){var r=0;r=o.getY(e)+t,$("#"+e).css("transform","translateY("+r+"px)"),$("#"+e).css("-webkit-transform","translateY("+r+"px)"),r<=-1*a-30||r>=30?o.goToEnd(r,e,a):setTimeout(function(){o.touchScrollRun(t,e,n,a,s)},2)}else o.goToEnd(r,e,a)},goToEnd:function(t,e,i){var a=null,s=null;return i>0&&(t<-1*i?(a={transform:"translateY("+-1*i+"px)","-webkit-transform":"translateY("+-1*i+"px)","-webkit-transition":"0.2s ease 0s",transition:"0.2s ease 0s"},s={transform:"translateY("+-1*i+"px)","-webkit-transform":"translateY("+-1*i+"px)","-webkit-transition":"",transition:""}):t>0&&(a={transform:"translateY(0px)","-webkit-transform":"translateY(0px)","-webkit-transition":"0.2s ease 0s",transition:"0.2s ease 0s"},s={transform:"translateY(0px)","-webkit-transform":"translateY(0px)","-webkit-transition":"",transition:""})),0!=t?($("#"+e).css(a),setTimeout(function(){$("#"+e).css(s)},200),!0):($("#"+e).css({transform:"translateY(0px)"}),$("#"+e).css({"-webkit-transform":"translateY(0px)"}),!1)},getY:function(t){var e=$("#"+t).css("transform");return e||(e=$("#"+t).css("-webkit-transform")),"none"==e?e=0:(e=e.replace("translateY(","").replace(")",""),e=parseInt(e,10)),e||(e=0),e},bind:function(){for(var t=this,e=0;e<t.rootIdList.length;e++)$("#"+t.rootIdList[e]).on("click",function(){if(!t.isload){t.isload=!0;var e=$(this).attr("m_cid"),i=$(this).attr("m_index");i=parseInt(i,10);t.getBranch(e,!0),t.scrollTo(i),$(this).parent().find("li").removeClass("cur"),$(this).addClass("cur")}});$("#"+t.loadErrorId).on("click",function(){var e=$(this).attr("m_cid");t.getBranch(e)}),t.rootTouchBind();var i="onorientationchange"in window?"orientationchange":"resize";$(window).on(i,function(){var e=document.documentElement.clientHeight-t.basebodyH-t.bottombodyH,i=46*t.rootCount;e<i?(t.scrollRootHeight=i-e,t.scrollOverIndex=parseInt(t.scrollRootHeight/46,10),t.scrollRootHeight%46>0&&t.scrollOverIndex++,t.scrollOverIndex++):t.scrollOverIndex=0,t.pageHeight=e,$("#"+t.rootListDivlId).css({height:e});var a=document.documentElement.clientHeight;$("#"+t.branchScrollId).css({height:e,width:a-86})}),$("#branchList").scroll(function(){t.imgLazyLad.lazyLad()})},render:function(){this.bind()},run:function(){this.render()}}),t.clazz=e});var s={66482:{keyword:"尿裤",url:"//sale.jd.com/m/act/61DbAGiBvYeHzjIO.html?ptag=137886.5.1"},66480:{keyword:"奶粉",url:"//sale.jd.com/m/act/EmnJrpIvZ3AsU.html?ptag=137886.5.2"},66483:{keyword:"奶瓶",url:"//sale.jd.com/m/act/QGYJrzIxW7E2.html?ptag=137886.5.3"},66481:{keyword:"辅食",url:"//sale.jd.com/m/act/FcdbmRyWzS28Gj.html?ptag=137886.5.4"},66074:{keyword:"冰箱",url:"//sale.jd.com/m/act/xHgUA6IaYDWjuK.html?ptag=137886.5.5"},66073:{keyword:"洗衣机",url:"//sale.jd.com/m/act/dBvlNJROx8fnS.html?ptag=137886.5.6"},66071:{keyword:"电视",url:"//sale.jd.com/m/act/ILk0Tzd6MiVYaog.html?ptag=137886.5.7"},66072:{keyword:"空调",url:"//sale.jd.com/m/act/qBLlCS6ckZvx5d.html?ptag=137886.5.8"}};e.init=function(){var t=window.bigpipe.componentData.m1.data.json,e=window.bigpipe.componentData.m1.data.WQR,i=window.bigpipe.componentData.m1.data.commonUsed,s={catalogUpdateTime:"2017-10-20 01:15:01",catalogUpdateTimeYMD:"20171224",lastReleaseTime:t.lastReleaseTime.substring(0,10)+" "+t.lastReleaseTime.substring(10,19),catelogyList:[]};t.keywordAreas.forEach(function(t){if(1==t.pattern||a(t.patternStartTime,t.patternEndTime)){var o={level:0,name:t.areaName,cid:(e[t.areaId]?"WQR":"WQ")+t.areaId,commonUsed:i[t.areaId],ptag:t.PTAG};s.catelogyList.push(o)}}),console.log("roorList",s),$(function(){var t={};t.category={noUseOldShop:!0,imgSrc:"//st.360buyimg.com/so",roorList:s,catalogWqAbtest:100,categoryHotOrderAbtest:100,categoryWikiItemsAbtest:100,categoryNewUi:!0,commonUsedItemsOptimization:!0,openBottomNavigation:!0},t.html5_2015={imgStaticSrc:"//st.360buyimg.com/so",head:!0,footer:null,appDown:null},M.setRunMod(["html5_2015"]),t.MUUid={head:"//st.360buyimg.com/so",version:"jd201803152309"},M.setRunMod("category"),t.BuriedPoint="",t.category?t.category.soAdditionalSwitchs={soOpenNewTagPosition:!0,soOpenOldBeltColor:!1}:(t.category={},t.category.soAdditionalSwitchs={soOpenNewTagPosition:!0,soOpenOldBeltColor:!1}),M.setRunMod(["BuriedPoint"]),M.setRunMod(["MUUid"]),M.runner(t)})}}),modulejs("wq.hawaii.m_category",function(t){JD.url.getUrlParam("onlyserver")||("entryScript"in window.bigpipe?window.bigpipe.entryScript(function(){t.init()}):"entryScriptv2"in window.bigpipe&&"__rds"in window?window.bigpipe.entryScriptv2(function(){t.init()}):t.init())});